
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Suavización Exponecial &#8212; Mejora en el Pronóstico de PM10 a través de un Enfoque Mejorado de Conjunto Apilado Profundo con XGBoost</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'EDA';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Predicción de Energía Eléctrica de Microturbinas de Gas" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Mejora en el Pronóstico de PM10 a través de un Enfoque Mejorado de Conjunto Apilado Profundo con XGBoost - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Mejora en el Pronóstico de PM10 a través de un Enfoque Mejorado de Conjunto Apilado Profundo con XGBoost - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Predicción de Energía Eléctrica de Microturbinas de Gas
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><font color="#30143">Suavización Exponecial</font></a></li>



</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FEDA.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/EDA.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1><font color="#30143">Suavización Exponecial</font></h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><font color="#30143">Suavización Exponecial</font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importar-librerias"><font color="#30143">Importar Librerías</font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos"><font color="#30143">Análisis Exploratorio de Datos</font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cargar-el-dataset"><font color="#30143"> Cargar el dataset</font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-1"><font color="#30143"> EDA Experimento 1</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definicion-de-variables"><font color="#30143"> Definición de Variables</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estructuras-internas-de-las-series-temporales"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tendencia-general"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estacionalidad"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cambios-ciclicos"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estacionaridad"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descomposicion-de-la-serie-temporal-mediante-seasonal-descompose"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-9"><font color="#30143"> EDA Experimento 9</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-20"><font color="#30143"> EDA Experimento 20</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-21"><font color="#30143"> EDA Experimento 21</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-23"><font color="#30143"> EDA Experimento 23</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id21"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id22"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id23"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id24"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-24"><font color="#30143"> EDA Experimento 24</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id27"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id28"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id29"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id30"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-4"><font color="#30143"> EDA Experimento 4</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id32"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id33"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id34"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id35"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id36"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-22"><font color="#30143"> EDA Experimento 22</font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id37"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id38"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id39"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id40"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id41"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id42"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-grafico-series-temporales"><font color="#30143"> Resumen Gráfico Series Temporales </font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-modelos"><font color="#30143"> Construcción de Modelos </font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-primer-orden"><font color="#30143"> Suavización exponencial de primer orden </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-segundo-orden-con-actualizacion-del-factor-de-descuento"><font color="#30143"> Suavización exponencial de segundo orden con actualización del factor de descuento </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-holt-winters"><font color="#30143"> Suavización exponencial Holt-Winters </font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-exponential-smoothing-holt-winters"><font color="#30143"> Simple Exponential Smoothing (Holt-Winters)</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#double-exponential-smoothing-holt-winters"><font color="#30143"> Double Exponential Smoothing (Holt-Winters)</font></a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="suavizacion-exponecial">
<h1><font color="#30143">Suavización Exponecial</font><a class="headerlink" href="#suavizacion-exponecial" title="Link to this heading">#</a></h1>
<p><br><br></p>
<hr class="docutils" />
<section id="importar-librerias">
<h2><font color="#30143">Importar Librerías</font><a class="headerlink" href="#importar-librerias" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load libraries</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">statsmodels.graphics.gofplots</span> <span class="kn">import</span> <span class="n">qqplot</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>


<span class="c1"># Load sklearn</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">KFold</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">Lasso</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">ElasticNet</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVR</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">GradientBoostingRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">ExtraTreesRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">AdaBoostRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="kn">import</span> <span class="n">adfuller</span>


<span class="c1">#oters</span>
<span class="kn">from</span> <span class="nn">statsmodels.graphics.tsaplots</span> <span class="kn">import</span> <span class="n">plot_acf</span> 
<span class="kn">from</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="kn">import</span> <span class="n">acf</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa</span> <span class="kn">import</span> <span class="n">stattools</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa</span> <span class="kn">import</span> <span class="n">seasonal</span>

<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="analisis-exploratorio-de-datos">
<h1><font color="#30143">Análisis Exploratorio de Datos</font><a class="headerlink" href="#analisis-exploratorio-de-datos" title="Link to this heading">#</a></h1>
<p><br><br></p>
<hr class="docutils" />
<section id="cargar-el-dataset">
<h2><font color="#30143"> Cargar el dataset</font><a class="headerlink" href="#cargar-el-dataset" title="Link to this heading">#</a></h2>
<p>A continuación usamos la función <code class="docutils literal notranslate"><span class="pre">read_cvs()</span></code> de la libreria <code class="docutils literal notranslate"><span class="pre">pandas</span></code>para cargar los datos a nuestro entorno de trabajo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_1.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_train_ex_9</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_9.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_train_ex_20</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_20.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_train_ex_21</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_21.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_train_ex_23</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_23.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_train_ex_24</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;train_ex_24.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_test_ex_4</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;test_ex_4.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="n">df_test_ex_22</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;test_ex_22.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="eda-experimento-1">
<h2><font color="#30143"> EDA Experimento 1</font><a class="headerlink" href="#eda-experimento-1" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(9920, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9920 entries, 0 to 9919
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           9920 non-null   float64
 1   input_voltage  9920 non-null   int64  
 2   el_power       9920 non-null   float64
dtypes: float64(2), int64(1)
memory usage: 232.6 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>810.07028</td>
      <td>10</td>
      <td>1228.791720</td>
    </tr>
    <tr>
      <th>1</th>
      <td>811.06938</td>
      <td>10</td>
      <td>1223.041745</td>
    </tr>
    <tr>
      <th>2</th>
      <td>812.06848</td>
      <td>10</td>
      <td>1244.960866</td>
    </tr>
    <tr>
      <th>3</th>
      <td>813.06758</td>
      <td>10</td>
      <td>1229.259058</td>
    </tr>
    <tr>
      <th>4</th>
      <td>814.06668</td>
      <td>10</td>
      <td>1248.117024</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos 9.920  registros en nuestro conjunto de datos del Experimento 1.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<section id="definicion-de-variables">
<h3><font color="#30143"> Definición de Variables</font><a class="headerlink" href="#definicion-de-variables" title="Link to this heading">#</a></h3>
<p>Ahora, nuestro conjunto de datos que incluye datos de entrenamiento y validación  está compuesto por <code class="docutils literal notranslate"><span class="pre">9.920</span></code> registros a partir del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">número</span> <span class="pre">1</span></code>.</p>
<p>A continuación se definen cada una de las variables que componen el conjunto de datos del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">número</span> <span class="pre">1</span></code>.</p>
<ul class="simple">
<li><p><strong>time</strong>: Tiempo de respuesta en segundos (s) de la microturbina de gas frente a los cambios de voltaje de entrada y la potencia eléctrica de salida.</p></li>
<li><p><strong>input_voltage</strong>: Voltaje de Entrada en voltios (V).</p></li>
<li><p><strong>el_power</strong>: Potencia Eléctrica en watts (W).</p></li>
</ul>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    La definición de las <em>variables</em> aplica para cada uno de los experimentos descritos en este documento.
</div><p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_1</span> <span class="o">=</span> <span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_1</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9920.00</td>
      <td>9920.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>6.82</td>
      <td>2162.43</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3.49</td>
      <td>1009.47</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>932.84</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>990.03</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>10.00</td>
      <td>2709.35</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>10.00</td>
      <td>3116.42</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3249.89</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_num_exp_1</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([10,  3], dtype=int64)
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,920\)</span>. Los datos mínimos: <span class="math notranslate nohighlight">\(3 \text{V}\)</span> y máximo: <span class="math notranslate nohighlight">\(10 \text{V}\)</span> sugieren que se usaron dos voltajes de entrada puntuales y que además el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(10\text{V}\)</span></p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,920\)</span>. media: <span class="math notranslate nohighlight">\(2.162\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(1\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(0.92\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.2\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la turbina fue de <span class="math notranslate nohighlight">\(3.11\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/8ea7703889d988c4539ea38b4891eee02dfeaa4c75ac3d0253f47db2915fffdb.png" src="_images/8ea7703889d988c4539ea38b4891eee02dfeaa4c75ac3d0253f47db2915fffdb.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_1</span> <span class="o">=</span> <span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_1</span> <span class="o">=</span> <span class="n">df_train_c_ex_1</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.8409</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.8409</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.84): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_1</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b58a2a443f1471383e82cf384aefd125324457e3150684355c85d24a01fe2819.png" src="_images/b58a2a443f1471383e82cf384aefd125324457e3150684355c85d24a01fe2819.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9920 entries, 0 to 9919
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           9920 non-null   datetime64[ns]
 1   input_voltage  9920 non-null   int64         
 2   el_power       9920 non-null   float64       
dtypes: datetime64[ns](1), float64(1), int64(1)
memory usage: 232.6 KB
</pre></div>
</div>
</div>
</div>
</section>
<section id="estructuras-internas-de-las-series-temporales">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#estructuras-internas-de-las-series-temporales" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="tendencia-general">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#tendencia-general" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_1</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 1&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/550aece8b03a4eb30154f4e59c0548ec59f5c343c2d206d208929507f660a5d5.png" src="_images/550aece8b03a4eb30154f4e59c0548ec59f5c343c2d206d208929507f660a5d5.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="estacionalidad">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#estacionalidad" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="cambios-ciclicos">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#cambios-ciclicos" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="estacionaridad">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#estacionaridad" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_1</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -2.880035
p-value: 0.047719
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,047719 &lt; 0,05\)</span>, por tanto se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 1&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 1&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3b57211b80d1521a718184a24965809764de00e31b51c90a395c7e2800a3292f.png" src="_images/3b57211b80d1521a718184a24965809764de00e31b51c90a395c7e2800a3292f.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="descomposicion-de-la-serie-temporal-mediante-seasonal-descompose">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#descomposicion-de-la-serie-temporal-mediante-seasonal-descompose" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_1</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.04771942777211966
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.047\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) + T(t) + R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'aditive'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:13:30.070280</td>
      <td>10</td>
      <td>1228.7917</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:13:31.069380</td>
      <td>10</td>
      <td>1223.0417</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:13:32.068480</td>
      <td>10</td>
      <td>1244.9609</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:13:33.067580</td>
      <td>10</td>
      <td>1229.2591</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:13:34.066680</td>
      <td>10</td>
      <td>1248.1170</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9915</th>
      <td>1970-01-01 02:58:36.662180</td>
      <td>3</td>
      <td>962.0303</td>
    </tr>
    <tr>
      <th>9916</th>
      <td>1970-01-01 02:58:37.661280</td>
      <td>3</td>
      <td>963.2136</td>
    </tr>
    <tr>
      <th>9917</th>
      <td>1970-01-01 02:58:38.660380</td>
      <td>3</td>
      <td>947.9569</td>
    </tr>
    <tr>
      <th>9918</th>
      <td>1970-01-01 02:58:39.659480</td>
      <td>3</td>
      <td>944.3145</td>
    </tr>
    <tr>
      <th>9919</th>
      <td>1970-01-01 02:58:40.658580</td>
      <td>3</td>
      <td>968.1849</td>
    </tr>
  </tbody>
</table>
<p>9920 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_1_seg</span><span class="o">=</span> <span class="n">df_train_ex_1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_1_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_1_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado  Experiemento 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia  Experiemento 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad  Experiemento 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual  Experiemento 1&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/01d69855178dca2b1bf7502caadd9b09807ceac17d2d18acb26d1750127ed309.png" src="_images/01d69855178dca2b1bf7502caadd9b09807ceac17d2d18acb26d1750127ed309.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-9">
<h2><font color="#30143"> EDA Experimento 9</font><a class="headerlink" href="#eda-experimento-9" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(11819, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 11819 entries, 0 to 11818
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           11819 non-null  float64
 1   input_voltage  11819 non-null  float64
 2   el_power       11819 non-null  float64
dtypes: float64(3)
memory usage: 277.1 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>818.84</td>
      <td>3.445</td>
      <td>1253.7903</td>
    </tr>
    <tr>
      <th>1</th>
      <td>819.84</td>
      <td>3.445</td>
      <td>1349.8369</td>
    </tr>
    <tr>
      <th>2</th>
      <td>820.84</td>
      <td>3.445</td>
      <td>1262.0338</td>
    </tr>
    <tr>
      <th>3</th>
      <td>821.84</td>
      <td>3.445</td>
      <td>1370.2058</td>
    </tr>
    <tr>
      <th>4</th>
      <td>822.84</td>
      <td>3.445</td>
      <td>1254.7825</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">11.819</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">9</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_9</span> <span class="o">=</span> <span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_9</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>11819.00</td>
      <td>11819.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.54</td>
      <td>1828.55</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.40</td>
      <td>402.17</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.44</td>
      <td>1204.21</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>4.30</td>
      <td>1449.91</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.79</td>
      <td>1735.78</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>6.88</td>
      <td>2247.40</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.24</td>
      <td>2511.70</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3.445, 3.855, 4.305, 4.785, 5.29 , 5.79 , 6.245, 6.615, 6.88 ,
       7.055, 7.165, 7.24 ])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(11,819\)</span>. Durante el desarrollo del experimento se aplicaron 12 valores de voltaje de entrada distribuidos en el intervalo de <span class="math notranslate nohighlight">\(3.44\text{V}\)</span> a <span class="math notranslate nohighlight">\(7.24\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(6.88 \text{V}\)</span></p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(11,819\)</span>. media: <span class="math notranslate nohighlight">\(1.828\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.402\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.204\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(2.511\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la turbina fue de <span class="math notranslate nohighlight">\(1.449\text{kW}\)</span> y <span class="math notranslate nohighlight">\(2.247\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/0664249aac36bb1f79c8c72173b62c44288aeb79f465300f32f526e14b4947f3.png" src="_images/0664249aac36bb1f79c8c72173b62c44288aeb79f465300f32f526e14b4947f3.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_9</span> <span class="o">=</span> <span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_9</span> <span class="o">=</span> <span class="n">df_train_c_ex_9</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.9786</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.9786</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.98): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_9</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8d7a306a0e1e8490b82c5ae534efd9453d7dad588dc9e4f0f4f0666c30ed0954.png" src="_images/8d7a306a0e1e8490b82c5ae534efd9453d7dad588dc9e4f0f4f0666c30ed0954.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 11819 entries, 0 to 11818
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           11819 non-null  datetime64[ns]
 1   input_voltage  11819 non-null  float64       
 2   el_power       11819 non-null  float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 277.1 KB
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id2">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_9</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 9&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c4c5cc100b2d97827b00be0321eaf1408457b7c1078b35c2263a9cc0137be1f4.png" src="_images/c4c5cc100b2d97827b00be0321eaf1408457b7c1078b35c2263a9cc0137be1f4.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id3">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id4">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id5">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_9</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_9</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -0.266266
p-value: 0.930148
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,930148 &gt; 0,05\)</span>, por tanto se no se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">NO</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 9&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 9&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/402dfb2623a01396dd6942fc55bc20350e631e390c29fe418d5eb1bdece9b0ea.png" src="_images/402dfb2623a01396dd6942fc55bc20350e631e390c29fe418d5eb1bdece9b0ea.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id6">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id6" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_9</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_9</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.9301480968227515
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.93\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) + T(t) + R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'aditive'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_9</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:13:38.840</td>
      <td>3.445</td>
      <td>1253.7903</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:13:39.840</td>
      <td>3.445</td>
      <td>1349.8369</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:13:40.840</td>
      <td>3.445</td>
      <td>1262.0338</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:13:41.840</td>
      <td>3.445</td>
      <td>1370.2058</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:13:42.840</td>
      <td>3.445</td>
      <td>1254.7825</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>11814</th>
      <td>1970-01-01 03:30:32.840</td>
      <td>7.240</td>
      <td>2358.5369</td>
    </tr>
    <tr>
      <th>11815</th>
      <td>1970-01-01 03:30:33.840</td>
      <td>7.240</td>
      <td>2481.4890</td>
    </tr>
    <tr>
      <th>11816</th>
      <td>1970-01-01 03:30:34.840</td>
      <td>7.240</td>
      <td>2327.0544</td>
    </tr>
    <tr>
      <th>11817</th>
      <td>1970-01-01 03:30:35.840</td>
      <td>7.240</td>
      <td>2451.0610</td>
    </tr>
    <tr>
      <th>11818</th>
      <td>1970-01-01 03:30:36.840</td>
      <td>7.240</td>
      <td>2336.9530</td>
    </tr>
  </tbody>
</table>
<p>11819 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_9_seg</span><span class="o">=</span> <span class="n">df_train_ex_9</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_9_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_9_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 9&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 9&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 9&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 9&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/397f6501365e678b3f2a154d06688286948f72aae2c64f31590e2c0f3038ed42.png" src="_images/397f6501365e678b3f2a154d06688286948f72aae2c64f31590e2c0f3038ed42.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-20">
<h2><font color="#30143"> EDA Experimento 20</font><a class="headerlink" href="#eda-experimento-20" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(6495, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6495 entries, 0 to 6494
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           6495 non-null   float64
 1   input_voltage  6495 non-null   float64
 2   el_power       6495 non-null   float64
dtypes: float64(3)
memory usage: 152.4 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>849.22</td>
      <td>3.0</td>
      <td>1238.5113</td>
    </tr>
    <tr>
      <th>1</th>
      <td>850.24</td>
      <td>3.0</td>
      <td>1149.5637</td>
    </tr>
    <tr>
      <th>2</th>
      <td>851.26</td>
      <td>3.0</td>
      <td>1226.9592</td>
    </tr>
    <tr>
      <th>3</th>
      <td>852.28</td>
      <td>3.0</td>
      <td>1158.0870</td>
    </tr>
    <tr>
      <th>4</th>
      <td>853.30</td>
      <td>3.0</td>
      <td>1230.4353</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">6,495</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">20</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_20</span> <span class="o">=</span> <span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_20</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6495.00</td>
      <td>6495.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.66</td>
      <td>1623.26</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.48</td>
      <td>632.99</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1097.03</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1158.55</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.00</td>
      <td>1241.35</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5.00</td>
      <td>1909.03</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3182.43</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3. ,  5. ,  7.5, 10. ])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(6,495\)</span>. Durante el desarrollo del experimento se aplicaron 4 valores de voltaje de entrada <span class="math notranslate nohighlight">\(3.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(5.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(7.5\text{V}\)</span>, <span class="math notranslate nohighlight">\(10.0\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0 \text{V}\)</span></p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(6,495\)</span>. media: <span class="math notranslate nohighlight">\(1.623\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.632\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.097\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.182\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la turbina fue de <span class="math notranslate nohighlight">\(1.241\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/dabef0d9f7de10cd89a1ee088b76e99a0c6d1d11a61899f71bd4206e81dd4895.png" src="_images/dabef0d9f7de10cd89a1ee088b76e99a0c6d1d11a61899f71bd4206e81dd4895.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_20</span> <span class="o">=</span> <span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_20</span> <span class="o">=</span> <span class="n">df_train_c_ex_20</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.7528</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.7528</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.75): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_20</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/6a0a6d6744b4dcf5efdd4f872a919f8c63fc59746d712af1a311abf433d9a0c8.png" src="_images/6a0a6d6744b4dcf5efdd4f872a919f8c63fc59746d712af1a311abf433d9a0c8.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6495 entries, 0 to 6494
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           6495 non-null   datetime64[ns]
 1   input_voltage  6495 non-null   float64       
 2   el_power       6495 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 152.4 KB
</pre></div>
</div>
</div>
</div>
<section id="id7">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id8">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_20</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 20&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1d4125143fbc879a635aa4ccef94eab2fae0cc8ee0c5afcf5bac0f69b6c2623f.png" src="_images/1d4125143fbc879a635aa4ccef94eab2fae0cc8ee0c5afcf5bac0f69b6c2623f.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id9">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id10">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id10" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id11">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_20</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_20</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_20</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -3.391960
p-value: 0.011236
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,011236 &lt; 0,05\)</span>, por tanto se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 20&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 20&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/58dbfa6f5f1d5b5b66178193872a7614da0d694c5c1cc39f71edbf1b5799154e.png" src="_images/58dbfa6f5f1d5b5b66178193872a7614da0d694c5c1cc39f71edbf1b5799154e.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id12">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id12" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_20</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_20</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.011236042963494716
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.01123\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">multiplicativa</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) * T(t) * R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'multiplicative'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_20</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:14:09.220</td>
      <td>3.0</td>
      <td>1238.5113</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:14:10.240</td>
      <td>3.0</td>
      <td>1149.5637</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:14:11.260</td>
      <td>3.0</td>
      <td>1226.9592</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:14:12.280</td>
      <td>3.0</td>
      <td>1158.0870</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:14:13.300</td>
      <td>3.0</td>
      <td>1230.4353</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6490</th>
      <td>1970-01-01 02:10:19.820</td>
      <td>3.0</td>
      <td>1127.8140</td>
    </tr>
    <tr>
      <th>6491</th>
      <td>1970-01-01 02:10:20.900</td>
      <td>3.0</td>
      <td>1214.4917</td>
    </tr>
    <tr>
      <th>6492</th>
      <td>1970-01-01 02:10:21.920</td>
      <td>3.0</td>
      <td>1122.5833</td>
    </tr>
    <tr>
      <th>6493</th>
      <td>1970-01-01 02:10:22.940</td>
      <td>3.0</td>
      <td>1207.7784</td>
    </tr>
    <tr>
      <th>6494</th>
      <td>1970-01-01 02:10:24.000</td>
      <td>3.0</td>
      <td>1120.8016</td>
    </tr>
  </tbody>
</table>
<p>6495 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_20_seg</span><span class="o">=</span> <span class="n">df_train_ex_20</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_20_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_20_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 20&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 20&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 20&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 20&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d02c5c2107277eb8a7ed744891cdb6eed02c1380b076166ff2e8f5a70c0aa41f.png" src="_images/d02c5c2107277eb8a7ed744891cdb6eed02c1380b076166ff2e8f5a70c0aa41f.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-21">
<h2><font color="#30143"> EDA Experimento 21</font><a class="headerlink" href="#eda-experimento-21" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(6495, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6495 entries, 0 to 6494
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           6495 non-null   float64
 1   input_voltage  6495 non-null   float64
 2   el_power       6495 non-null   float64
dtypes: float64(3)
memory usage: 152.4 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>847.72</td>
      <td>3.0</td>
      <td>1089.8951</td>
    </tr>
    <tr>
      <th>1</th>
      <td>848.74</td>
      <td>3.0</td>
      <td>1179.8432</td>
    </tr>
    <tr>
      <th>2</th>
      <td>849.78</td>
      <td>3.0</td>
      <td>1099.4976</td>
    </tr>
    <tr>
      <th>3</th>
      <td>850.80</td>
      <td>3.0</td>
      <td>1181.5511</td>
    </tr>
    <tr>
      <th>4</th>
      <td>851.82</td>
      <td>3.0</td>
      <td>1100.8238</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">6,495</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">21</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_21</span> <span class="o">=</span> <span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_21</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>6495.00</td>
      <td>6495.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.66</td>
      <td>1576.46</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.48</td>
      <td>638.04</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1045.54</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1112.55</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.00</td>
      <td>1191.25</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5.00</td>
      <td>1889.46</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3191.97</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3. ,  5. ,  7.5, 10. ])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(6,495\)</span>. Durante el desarrollo del experimento se aplicaron 4 valores de voltaje de entrada <span class="math notranslate nohighlight">\(3.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(5.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(7.5\text{V}\)</span>, <span class="math notranslate nohighlight">\(10.0\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0 \text{V}\)</span>. Con respecto a lo anterior practicamente se repetio el experimento 20.</p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(6,495\)</span>. media: <span class="math notranslate nohighlight">\(1.576\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.638\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.045\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.191\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la microturbina fue de <span class="math notranslate nohighlight">\(1.191\text{kW}\)</span>. Existe una ligera variación en comparación con la potencia eléctica entregada por la microturbina en el experimento 20. Por lo anterior, podemos afirmar que los resultados son reproducibles.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/2ec5fa6e6add92f81c4d055cf2960f2b58acb8f54812f66983ddc06cc1a696d9.png" src="_images/2ec5fa6e6add92f81c4d055cf2960f2b58acb8f54812f66983ddc06cc1a696d9.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_21</span> <span class="o">=</span> <span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_21</span> <span class="o">=</span> <span class="n">df_train_c_ex_21</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_21</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.7479</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.7479</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.747): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_21</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7e7ade01fe29e2417eac6fb07257f919c6a59bad00ca43339d412077083b7592.png" src="_images/7e7ade01fe29e2417eac6fb07257f919c6a59bad00ca43339d412077083b7592.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    El <em>experimento número 21</em> es una replica del <em>experimento número 20</em>. </div><div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6495 entries, 0 to 6494
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           6495 non-null   datetime64[ns]
 1   input_voltage  6495 non-null   float64       
 2   el_power       6495 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 152.4 KB
</pre></div>
</div>
</div>
</div>
<section id="id13">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id14">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_21</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 21&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/948780be878377cdab1b91201ee7c07e93532d5e5b5599f9d18371a23192194f.png" src="_images/948780be878377cdab1b91201ee7c07e93532d5e5b5599f9d18371a23192194f.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id15">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id15" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id16">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id16" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id17">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id17" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_21</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_21</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_21</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -3.451626
p-value: 0.009320
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,009320 &lt; 0,05\)</span>, por tanto se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 21&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 21&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1b9a78e8694a6eccd4c3926a68c5bc2abcba956d51120bcfdeaa71893144c822.png" src="_images/1b9a78e8694a6eccd4c3926a68c5bc2abcba956d51120bcfdeaa71893144c822.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id18">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id18" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_21</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_21</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.009319892749351391
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.0009319\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">multiplicativa</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) * T(t) * R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'multiplicative'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_21</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:14:07.720</td>
      <td>3.0</td>
      <td>1089.8951</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:14:08.740</td>
      <td>3.0</td>
      <td>1179.8432</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:14:09.780</td>
      <td>3.0</td>
      <td>1099.4976</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:14:10.800</td>
      <td>3.0</td>
      <td>1181.5511</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:14:11.820</td>
      <td>3.0</td>
      <td>1100.8238</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>6490</th>
      <td>1970-01-01 02:09:32.540</td>
      <td>3.0</td>
      <td>1161.6509</td>
    </tr>
    <tr>
      <th>6491</th>
      <td>1970-01-01 02:09:33.560</td>
      <td>3.0</td>
      <td>1068.6059</td>
    </tr>
    <tr>
      <th>6492</th>
      <td>1970-01-01 02:09:34.560</td>
      <td>3.0</td>
      <td>1159.2112</td>
    </tr>
    <tr>
      <th>6493</th>
      <td>1970-01-01 02:09:35.560</td>
      <td>3.0</td>
      <td>1073.7897</td>
    </tr>
    <tr>
      <th>6494</th>
      <td>1970-01-01 02:09:36.600</td>
      <td>3.0</td>
      <td>1148.9050</td>
    </tr>
  </tbody>
</table>
<p>6495 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_21_seg</span><span class="o">=</span> <span class="n">df_train_ex_21</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_21_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_21_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 21&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 21&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 21&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 21&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4a265538800f2536c205a16747600ecc6628569f7b7dfd26427fe7499252803a.png" src="_images/4a265538800f2536c205a16747600ecc6628569f7b7dfd26427fe7499252803a.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-23">
<h2><font color="#30143"> EDA Experimento 23</font><a class="headerlink" href="#eda-experimento-23" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(9188, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9188 entries, 0 to 9187
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           9188 non-null   float64
 1   input_voltage  9188 non-null   float64
 2   el_power       9188 non-null   float64
dtypes: float64(3)
memory usage: 215.5 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>810.00</td>
      <td>3.0</td>
      <td>1102.9497</td>
    </tr>
    <tr>
      <th>1</th>
      <td>811.04</td>
      <td>3.0</td>
      <td>1199.4038</td>
    </tr>
    <tr>
      <th>2</th>
      <td>812.08</td>
      <td>3.0</td>
      <td>1113.1998</td>
    </tr>
    <tr>
      <th>3</th>
      <td>813.18</td>
      <td>3.0</td>
      <td>1200.3779</td>
    </tr>
    <tr>
      <th>4</th>
      <td>814.18</td>
      <td>3.0</td>
      <td>1105.4653</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">9,188</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">23</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_23</span> <span class="o">=</span> <span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_23</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9188.00</td>
      <td>9188.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.26</td>
      <td>1899.23</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.24</td>
      <td>693.04</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1053.22</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1212.05</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>4.84</td>
      <td>1694.53</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>7.05</td>
      <td>2508.56</td>
    </tr>
    <tr>
      <th>max</th>
      <td>9.63</td>
      <td>3193.85</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3.        , 3.36842105, 3.73684211, 4.10526316, 4.47368421,
       4.84210526, 5.21052632, 5.57894737, 5.94736842, 6.31578947,
       6.68421053, 7.05263158, 7.42105263, 7.78947368, 8.15789474,
       8.52631579, 8.89473684, 9.26315789, 9.63157895])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,188\)</span>. Durante el desarrollo del experimento se aplicaron 19 valores de voltaje de entrada distribuidos en el intervalo de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> a <span class="math notranslate nohighlight">\(9.63\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> lo anterior producto de la igualdad del primer quantil y el minímo. Además podemos decir que <span class="math notranslate nohighlight">\(50\%\)</span> de los valores de voltaje están por debajo de <span class="math notranslate nohighlight">\(4.84\text{V}\)</span> (mediana)
<span class="math notranslate nohighlight">\(75\%\)</span> de los valores están por debajo de <span class="math notranslate nohighlight">\(7.05\text{V}\)</span>.</p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,188\)</span>. media: <span class="math notranslate nohighlight">\(1.899\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.693\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.053\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.193\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la microturbina se encuentra entre <span class="math notranslate nohighlight">\(1.053\text{kW}\)</span> y <span class="math notranslate nohighlight">\(1.212\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/4deabe05d98e4bbdfdcf36f6b21c648301c76dc52b91b40d459b7ff20cb76f14.png" src="_images/4deabe05d98e4bbdfdcf36f6b21c648301c76dc52b91b40d459b7ff20cb76f14.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_23</span> <span class="o">=</span> <span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_23</span> <span class="o">=</span> <span class="n">df_train_c_ex_23</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_23</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.8161</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.8161</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.816): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_23</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_23</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/164a64334e5940c47bc685932163a4e1d7553cdcbbb930cd85fbc3f7b0edddfd.png" src="_images/164a64334e5940c47bc685932163a4e1d7553cdcbbb930cd85fbc3f7b0edddfd.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9188 entries, 0 to 9187
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           9188 non-null   datetime64[ns]
 1   input_voltage  9188 non-null   float64       
 2   el_power       9188 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 215.5 KB
</pre></div>
</div>
</div>
</div>
<section id="id19">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id19" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id20">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id20" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_23</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 23&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1f8799b759f50cb3e229ed597a531fb788157dc6d9b84e4815d47f2a5a00bf44.png" src="_images/1f8799b759f50cb3e229ed597a531fb788157dc6d9b84e4815d47f2a5a00bf44.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id21">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id21" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id22">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id22" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id23">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id23" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_23</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_23</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_23</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -4.266146
p-value: 0.000508
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,000508 &lt; 0,05\)</span>, por tanto se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 23&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 23&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b81d15a76cbfb00e0cd83963bbc7e61299ab3289a9b3b7db1179c45d2af34aeb.png" src="_images/b81d15a76cbfb00e0cd83963bbc7e61299ab3289a9b3b7db1179c45d2af34aeb.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id24">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id24" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_23</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_23</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.0005081533115463043
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.000508153\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) + T(t) + R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'additive'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_23</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:13:30.000</td>
      <td>3.0</td>
      <td>1102.9497</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:13:31.040</td>
      <td>3.0</td>
      <td>1199.4038</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:13:32.080</td>
      <td>3.0</td>
      <td>1113.1998</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:13:33.180</td>
      <td>3.0</td>
      <td>1200.3779</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:13:34.180</td>
      <td>3.0</td>
      <td>1105.4653</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9183</th>
      <td>1970-01-01 03:02:30.280</td>
      <td>3.0</td>
      <td>1087.4810</td>
    </tr>
    <tr>
      <th>9184</th>
      <td>1970-01-01 03:02:31.340</td>
      <td>3.0</td>
      <td>1175.4381</td>
    </tr>
    <tr>
      <th>9185</th>
      <td>1970-01-01 03:02:32.420</td>
      <td>3.0</td>
      <td>1084.1358</td>
    </tr>
    <tr>
      <th>9186</th>
      <td>1970-01-01 03:02:33.480</td>
      <td>3.0</td>
      <td>1159.9169</td>
    </tr>
    <tr>
      <th>9187</th>
      <td>1970-01-01 03:02:34.520</td>
      <td>3.0</td>
      <td>1077.1333</td>
    </tr>
  </tbody>
</table>
<p>9188 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_23_seg</span><span class="o">=</span> <span class="n">df_train_ex_23</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_23_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_23_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 23&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 23&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 23&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 23&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7228ad2a63ed27f78ad4d45f7ecda7c5588f6d80654c606aa3bb875889ba4500.png" src="_images/7228ad2a63ed27f78ad4d45f7ecda7c5588f6d80654c606aa3bb875889ba4500.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-24">
<h2><font color="#30143"> EDA Experimento 24</font><a class="headerlink" href="#eda-experimento-24" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(9023, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9023 entries, 0 to 9022
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           9023 non-null   float64
 1   input_voltage  9023 non-null   float64
 2   el_power       9023 non-null   float64
dtypes: float64(3)
memory usage: 211.6 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>811.04</td>
      <td>3.0</td>
      <td>1217.4131</td>
    </tr>
    <tr>
      <th>1</th>
      <td>812.04</td>
      <td>3.0</td>
      <td>1140.0900</td>
    </tr>
    <tr>
      <th>2</th>
      <td>813.06</td>
      <td>3.0</td>
      <td>1223.7520</td>
    </tr>
    <tr>
      <th>3</th>
      <td>814.10</td>
      <td>3.0</td>
      <td>1124.8101</td>
    </tr>
    <tr>
      <th>4</th>
      <td>815.12</td>
      <td>3.0</td>
      <td>1207.6715</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">9,023</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">24</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_24</span> <span class="o">=</span> <span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_24</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9023.00</td>
      <td>9023.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.49</td>
      <td>1805.38</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.30</td>
      <td>680.14</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1054.18</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1221.47</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.21</td>
      <td>1539.21</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>7.42</td>
      <td>2380.49</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3191.10</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3.        ,  3.36842105,  3.73684211,  4.10526316,  4.47368421,
        4.84210526,  5.21052632,  5.57894737,  5.94736842,  6.31578947,
        6.68421053,  7.05263158,  7.42105263,  7.78947368,  8.15789474,
        8.52631579,  8.89473684,  9.26315789,  9.63157895, 10.        ])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,023\)</span>. Durante el desarrollo del experimento se aplicaron 20 valores de voltaje de entrada distribuidos en el intervalo de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> a <span class="math notranslate nohighlight">\(10.0\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> lo anterior producto de la igualdad del primer quantil y el minímo. Además podemos decir que <span class="math notranslate nohighlight">\(50\%\)</span> de los valores de voltaje están por debajo de <span class="math notranslate nohighlight">\(5.21\text{V}\)</span> (mediana)
<span class="math notranslate nohighlight">\(75\%\)</span> de los valores están por debajo de <span class="math notranslate nohighlight">\(7.42\text{V}\)</span>.</p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,023\)</span>. media: <span class="math notranslate nohighlight">\(1.899\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.693\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.053\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.193\text{kW}\)</span>.  Además, se observa que durante el experimento, la potencia eléctrica predominante que entrego la microturbina se encuentra entre <span class="math notranslate nohighlight">\(1.054\text{kW}\)</span> y <span class="math notranslate nohighlight">\(1.221\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/781b99997d1558d3581c470b37d8ab0d52c9411a8a66107d6d514bd78cda4bd3.png" src="_images/781b99997d1558d3581c470b37d8ab0d52c9411a8a66107d6d514bd78cda4bd3.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_train_c_ex_24</span> <span class="o">=</span> <span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_24</span> <span class="o">=</span> <span class="n">df_train_c_ex_24</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_24</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.9686</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.9686</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.9686): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_24</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_24</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4a373abbaa16d38582006db4e385259900d8a5884b06a642215179d7dfce707b.png" src="_images/4a373abbaa16d38582006db4e385259900d8a5884b06a642215179d7dfce707b.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9023 entries, 0 to 9022
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           9023 non-null   datetime64[ns]
 1   input_voltage  9023 non-null   float64       
 2   el_power       9023 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 211.6 KB
</pre></div>
</div>
</div>
</div>
<section id="id25">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id25" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id26">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id26" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_train_ex_24</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 24&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f946055314f35721e503c8641471a43da2403489320541af883abb41b2fd0e49.png" src="_images/f946055314f35721e503c8641471a43da2403489320541af883abb41b2fd0e49.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id27">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id27" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id28">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id28" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id29">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id29" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_24</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_24</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_24</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -1.337382
p-value: 0.611901
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0.611901 &lt; 0,05\)</span>, por tanto se no se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">No</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 24&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 24&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9e0165c061b94c3a6be40ec0a9e26411cc2b71aa791a7737293fb0298e1ffe79.png" src="_images/9e0165c061b94c3a6be40ec0a9e26411cc2b71aa791a7737293fb0298e1ffe79.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id30">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id30" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_24</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_24</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.6119013728891665
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.61190\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">No</span> <span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) + T(t) + R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'additive'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_train_ex_24</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:13:31.040</td>
      <td>3.0</td>
      <td>1217.4131</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:13:32.040</td>
      <td>3.0</td>
      <td>1140.0900</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:13:33.060</td>
      <td>3.0</td>
      <td>1223.7520</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:13:34.100</td>
      <td>3.0</td>
      <td>1124.8101</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:13:35.120</td>
      <td>3.0</td>
      <td>1207.6715</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9018</th>
      <td>1970-01-01 02:56:14.740</td>
      <td>3.0</td>
      <td>1180.5090</td>
    </tr>
    <tr>
      <th>9019</th>
      <td>1970-01-01 02:56:15.960</td>
      <td>3.0</td>
      <td>1085.4974</td>
    </tr>
    <tr>
      <th>9020</th>
      <td>1970-01-01 02:56:17.160</td>
      <td>3.0</td>
      <td>1184.3845</td>
    </tr>
    <tr>
      <th>9021</th>
      <td>1970-01-01 02:56:18.400</td>
      <td>3.0</td>
      <td>1082.0389</td>
    </tr>
    <tr>
      <th>9022</th>
      <td>1970-01-01 02:56:19.600</td>
      <td>3.0</td>
      <td>1177.7705</td>
    </tr>
  </tbody>
</table>
<p>9023 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_24_seg</span><span class="o">=</span> <span class="n">df_train_ex_24</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_24_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_24_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 24&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 24&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 24&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 24&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5b06ccfd1edb504eb391356b68e0b092ae8b1c2663deafd2af7b474452032bc2.png" src="_images/5b06ccfd1edb504eb391356b68e0b092ae8b1c2663deafd2af7b474452032bc2.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas. En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-4">
<h2><font color="#30143"> EDA Experimento 4</font><a class="headerlink" href="#eda-experimento-4" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(9795, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9795 entries, 0 to 9794
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           9795 non-null   float64
 1   input_voltage  9795 non-null   float64
 2   el_power       9795 non-null   float64
dtypes: float64(3)
memory usage: 229.7 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>758.4258</td>
      <td>3.0</td>
      <td>1206.9934</td>
    </tr>
    <tr>
      <th>1</th>
      <td>759.4251</td>
      <td>3.0</td>
      <td>1255.0721</td>
    </tr>
    <tr>
      <th>2</th>
      <td>760.4244</td>
      <td>3.0</td>
      <td>1203.0933</td>
    </tr>
    <tr>
      <th>3</th>
      <td>761.4237</td>
      <td>3.0</td>
      <td>1259.0007</td>
    </tr>
    <tr>
      <th>4</th>
      <td>762.4230</td>
      <td>3.0</td>
      <td>1196.0338</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">9,795</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">4</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_4</span> <span class="o">=</span> <span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_4</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>9795.00</td>
      <td>9795.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.55</td>
      <td>1938.58</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.95</td>
      <td>819.98</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1109.52</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1223.08</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.00</td>
      <td>1602.03</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>7.50</td>
      <td>2547.34</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3393.23</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3. ,  5. ,  7.5, 10. ])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,795\)</span>. Durante el desarrollo del experimento se aplicaron 4 valores de voltaje de entrada: <span class="math notranslate nohighlight">\(3.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(5.0\text{V}\)</span>, <span class="math notranslate nohighlight">\(7.5\text{V}\)</span>  y <span class="math notranslate nohighlight">\(10.0\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> lo anterior producto de la igualdad del primer , segundo quantil y el minímo. Además podemos decir que <span class="math notranslate nohighlight">\(50\%\)</span> de los valores de voltaje son <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> y el <span class="math notranslate nohighlight">\(50\%\)</span> de valores restantes corresponden a voltajes de <span class="math notranslate nohighlight">\(7.50\text{V}\)</span> y <span class="math notranslate nohighlight">\(10.0\text{V}\)</span>.</p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(9,795\)</span>. media: <span class="math notranslate nohighlight">\(1.938\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.819\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.109\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.393\text{kW}\)</span>.  Además, se observa que la distribución se encuentra sesgada a la derecha.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/c8e935e56fca5f23c4822d76432eda413463254d766af6a22971fccce50c19af.png" src="_images/c8e935e56fca5f23c4822d76432eda413463254d766af6a22971fccce50c19af.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_test_c_ex_4</span> <span class="o">=</span> <span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_4</span> <span class="o">=</span> <span class="n">df_test_c_ex_4</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.7998</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.7998</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.799): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_4</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_4</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1bafce2bbf65384a543174907af878affc5e5cec47f509f4c6f1c8491b584474.png" src="_images/1bafce2bbf65384a543174907af878affc5e5cec47f509f4c6f1c8491b584474.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9795 entries, 0 to 9794
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           9795 non-null   datetime64[ns]
 1   input_voltage  9795 non-null   float64       
 2   el_power       9795 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 229.7 KB
</pre></div>
</div>
</div>
</div>
<section id="id31">
<h3><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id31" title="Link to this heading">#</a></h3>
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id32">
<h4><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id32" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_test_ex_4</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 4&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/62e89068fa57105ef6790a4d8a484432839344ea912c3d2f4e8caf53c749ed84.png" src="_images/62e89068fa57105ef6790a4d8a484432839344ea912c3d2f4e8caf53c749ed84.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id33">
<h4><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id33" title="Link to this heading">#</a></h4>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id34">
<h4><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id34" title="Link to this heading">#</a></h4>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id35">
<h4><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id35" title="Link to this heading">#</a></h4>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_4</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_24</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -1.337382
p-value: 0.001980
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0.001980 &lt; 0,05\)</span>, por tanto se se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 4&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 4&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1d594f22f0c781d09edd9a82849375f877217fc0a21364e7b1e77679e3ab5015.png" src="_images/1d594f22f0c781d09edd9a82849375f877217fc0a21364e7b1e77679e3ab5015.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id36">
<h4><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id36" title="Link to this heading">#</a></h4>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_4</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_4</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.00198029406498054
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.001980\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">multiplicativo</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) * T(t) * R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'multiplicative'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:12:38.425813187</td>
      <td>3.0</td>
      <td>1206.9934</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:12:39.425109347</td>
      <td>3.0</td>
      <td>1255.0721</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:12:40.424405506</td>
      <td>3.0</td>
      <td>1203.0933</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:12:41.423701666</td>
      <td>3.0</td>
      <td>1259.0007</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:12:42.422997825</td>
      <td>3.0</td>
      <td>1196.0338</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9790</th>
      <td>1970-01-01 02:55:41.535214345</td>
      <td>3.0</td>
      <td>2373.2503</td>
    </tr>
    <tr>
      <th>9791</th>
      <td>1970-01-01 02:55:42.534510504</td>
      <td>3.0</td>
      <td>2429.3629</td>
    </tr>
    <tr>
      <th>9792</th>
      <td>1970-01-01 02:55:43.533806664</td>
      <td>3.0</td>
      <td>2369.3979</td>
    </tr>
    <tr>
      <th>9793</th>
      <td>1970-01-01 02:55:44.533102824</td>
      <td>3.0</td>
      <td>2419.9593</td>
    </tr>
    <tr>
      <th>9794</th>
      <td>1970-01-01 02:55:45.532398983</td>
      <td>3.0</td>
      <td>2350.0353</td>
    </tr>
  </tbody>
</table>
<p>9795 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_4_seg</span><span class="o">=</span> <span class="n">df_test_ex_4</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_4_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_4_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 4&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 4&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 4&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 4&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a92f2dc3c179414149342ff49988e9e799b3963ec8e8266eaec23d53ab4db939.png" src="_images/a92f2dc3c179414149342ff49988e9e799b3963ec8e8266eaec23d53ab4db939.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas. En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
</section>
</section>
<section id="eda-experimento-22">
<h2><font color="#30143"> EDA Experimento 22</font><a class="headerlink" href="#eda-experimento-22" title="Link to this heading">#</a></h2>
<p>A continuación verificados el tamaño de nuestro dataset y los nombres de cada una de las columnas y tipo de dato que lo componen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cantidad de filas y columnnas</span><span class="si">{</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Nombres de Columnas</span><span class="si">{</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">columns</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cantidad de filas y columnnas(8490, 3)
Nombres de ColumnasIndex([&#39;time&#39;, &#39;input_voltage&#39;, &#39;el_power&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 8490 entries, 0 to 8489
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype  
---  ------         --------------  -----  
 0   time           8490 non-null   float64
 1   input_voltage  8490 non-null   float64
 2   el_power       8490 non-null   float64
dtypes: float64(3)
memory usage: 199.1 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>880.3</td>
      <td>3.0</td>
      <td>1193.1407</td>
    </tr>
    <tr>
      <th>1</th>
      <td>881.3</td>
      <td>3.0</td>
      <td>1107.0664</td>
    </tr>
    <tr>
      <th>2</th>
      <td>882.3</td>
      <td>3.0</td>
      <td>1180.4068</td>
    </tr>
    <tr>
      <th>3</th>
      <td>883.3</td>
      <td>3.0</td>
      <td>1095.5515</td>
    </tr>
    <tr>
      <th>4</th>
      <td>884.3</td>
      <td>3.0</td>
      <td>1177.0737</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Hemos observado que nuestro conjunto de datos consta de <code class="docutils literal notranslate"><span class="pre">3</span></code> variables (columnas) que tienen tipos de datos <code class="docutils literal notranslate"><span class="pre">float64</span></code> y <code class="docutils literal notranslate"><span class="pre">ìnt64</span></code>. El tipo de dato <code class="docutils literal notranslate"><span class="pre">float64</span></code> abarca variables que contienen datos númericos que incluyen decimales, mientras que el tipo de dato <code class="docutils literal notranslate"><span class="pre">int64</span></code>abarca variables que continen números enteros. En total, tenemos <code class="docutils literal notranslate"><span class="pre">8,490</span></code>  registros en nuestro conjunto de datos del <code class="docutils literal notranslate"><span class="pre">Experimento</span> <span class="pre">22</span></code>.<br />
Se observa además que no existen datos faltantes o nulos.</p>
<p>A continuación, se presenta un resumen de las métricas de estadística descriptiva, que incluye indicadores clave como la media, la desviación estándar, así como los valores mínimos y máximos, entre otros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">df_num_exp_22</span> <span class="o">=</span> <span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="c1"># Crear una copia del DataFrame y eliminar la columna &#39;time&#39;</span>
<span class="n">df_num_exp_22</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>8490.00</td>
      <td>8490.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>6.17</td>
      <td>1976.71</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.67</td>
      <td>795.04</td>
    </tr>
    <tr>
      <th>min</th>
      <td>3.00</td>
      <td>1022.50</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.00</td>
      <td>1186.55</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.96</td>
      <td>1724.78</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>8.73</td>
      <td>2857.85</td>
    </tr>
    <tr>
      <th>max</th>
      <td>10.00</td>
      <td>3184.62</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 3.        ,  3.6100902 ,  4.21553724,  4.81173332,  5.394141  ,
        5.95832783,  6.5       ,  7.01503505,  7.49951327,  7.94974747,
        8.3623111 ,  8.73406431,  9.06217783,  9.34415451,  9.57784835,
        9.76148078,  9.89365427,  9.97336289, 10.        ,  7.49951327,
        4.81173332,  5.95832783,  8.3623111 ,  3.6100902 ,  4.21553724,
        7.01503505,  7.94974747])
</pre></div>
</div>
</div>
</div>
<p>A continuación se realiza un análisis detallado para cada una de las características del conjunto de tados:</p>
<ul class="simple">
<li><p><strong>input_voltage (Voltaje de Entrada (V))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(8,490\)</span>. Durante el desarrollo del experimento se aplicaron 19 valores de voltaje de entrada en el intervalo de  <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> a <span class="math notranslate nohighlight">\(10.0\text{V}\)</span> para evaluar el potencia eléctrica de salida de la miniturbina de gas. Además, se observa que durante el experimento, el voltaje de entrada predominante utilizado por la turbina fue de <span class="math notranslate nohighlight">\(3.0\text{V}\)</span> lo anterior producto de la igualdad del primer y el minímo. Además podemos decir que <span class="math notranslate nohighlight">\(50\%\)</span> de los valores de voltaje se encuentran por debajo <span class="math notranslate nohighlight">\(5.96\text{V}\)</span> y el <span class="math notranslate nohighlight">\(50\%\)</span> de valores restantes corresponden a voltajes de <span class="math notranslate nohighlight">\(8.73\text{V}\)</span> y <span class="math notranslate nohighlight">\(10.0\text{V}\)</span>.</p></li>
<li><p><strong>el_power (Potencia (W))</strong>:Total de observaciones: <span class="math notranslate nohighlight">\(8,490\)</span>. media: <span class="math notranslate nohighlight">\(1.976\text{kW}\)</span>, desviación estándar: <span class="math notranslate nohighlight">\(0.795\text{kW}\)</span>, mínimo: <span class="math notranslate nohighlight">\(1.022\text{kW}\)</span>, máximo: <span class="math notranslate nohighlight">\(3.184\text{kW}\)</span>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s2">&quot;input_voltage&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s2">&quot;el_power&quot;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#30143F&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;el_power&#39;, ylabel=&#39;Density&#39;&gt;
</pre></div>
</div>
<img alt="_images/1ffe774291937b984f39df24932ef9b7f45539f46bd69039eb5875968ab7b4ce.png" src="_images/1ffe774291937b984f39df24932ef9b7f45539f46bd69039eb5875968ab7b4ce.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<p>A continuación se realiza un análisis sobre la relación entre las variables <code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pairwise Pearson correlations</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.precision&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">df_test_c_ex_22</span> <span class="o">=</span> <span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span>
<span class="n">cor_ex_22</span> <span class="o">=</span> <span class="n">df_test_c_ex_22</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;spearman&#39;</span><span class="p">)</span>
<span class="n">cor_ex_22</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>input_voltage</th>
      <td>1.0000</td>
      <td>0.9665</td>
    </tr>
    <tr>
      <th>el_power</th>
      <td>0.9665</td>
      <td>1.0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Podemos observar que el voltaje de entrada y la potencia de salidad de la microtubina de gas presentan una correlación significativa (por ejemplo, <span class="math notranslate nohighlight">\(&gt;0.75\)</span> o <span class="math notranslate nohighlight">\(&lt;−0.75\)</span>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">input_voltage</span></code> y <code class="docutils literal notranslate"><span class="pre">el_power</span></code> (0.9665): Sugiere que el aumento del voltaje de entrada está asociado con un aumento en la potencia de salidad de la microtrubina de gas en kW.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">cor_ex_23</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cor_ex_22</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">square</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Correlación&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e7a2b240b221a82214b13380907c3b2a2474fc67e550dd7a6ebbd23b62fe4917.png" src="_images/e7a2b240b221a82214b13380907c3b2a2474fc67e550dd7a6ebbd23b62fe4917.png" />
</div>
</div>
<p>A tráves del gráfico se observa lo descrito anteriormente.</p>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Para efectos del ejercicio propuesto, el análisis de la serie temporal se centrará exclusivamente en la variable <em>el_power</em>, que representa la potencia eléctrica de salida de la microturbina de gas.
</div><p>Sabemos que nuestra variable <code class="docutils literal notranslate"><span class="pre">time</span></code>es de tipo <code class="docutils literal notranslate"><span class="pre">float64</span></code>, por tal razón procedemos a establecerla con formato <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 8490 entries, 0 to 8489
Data columns (total 3 columns):
 #   Column         Non-Null Count  Dtype         
---  ------         --------------  -----         
 0   time           8490 non-null   datetime64[ns]
 1   input_voltage  8490 non-null   float64       
 2   el_power       8490 non-null   float64       
dtypes: datetime64[ns](1), float64(2)
memory usage: 199.1 KB
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id37">
<h1><font color="#30143"> Estructuras internas de las series temporales </font><a class="headerlink" href="#id37" title="Link to this heading">#</a></h1>
<hr class="docutils" />
<p>Una serie temporal puede expresarse de la siguiente forma:</p>
<div class="math notranslate nohighlight">
\[y_t= f_t + s_t + c_t + e_t\]</div>
<p>Es una suma de los componentes de tendencia (<span class="math notranslate nohighlight">\(f_t\)</span>), componentes estacionales (<span class="math notranslate nohighlight">\(s_t\)</span>), cíclicas (<span class="math notranslate nohighlight">\(c_t\)</span>) e irregulares (<span class="math notranslate nohighlight">\(e_t\)</span>) donde <span class="math notranslate nohighlight">\(t\)</span> es el índice temporal en el que observaciones se han tomado en <span class="math notranslate nohighlight">\(t = 1,2,3, \dots, T\)</span>  puntos sucesivos e igualmente espaciados en el tiempo.</p>
<section id="id38">
<h2><font color="#30143"> Tendencia general </font><a class="headerlink" href="#id38" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df_test_ex_22</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> 
              <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Potencia Eléctrica Experimento 22&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/02531329e9e0b9e443366f45bf87c0c587856ab4503dd2e7fd778cefe6fdf4b3.png" src="_images/02531329e9e0b9e443366f45bf87c0c587856ab4503dd2e7fd778cefe6fdf4b3.png" />
</div>
</div>
<p>La gráfica de <code class="docutils literal notranslate"><span class="pre">secuencia</span> <span class="pre">general</span></code> ilustra la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo. Lo anterior se debe a <code class="docutils literal notranslate"><span class="pre">cambios</span> <span class="pre">sistémicos</span> <span class="pre">del</span> <span class="pre">proceso</span></code>, en este caso se debe a la aplicación de dos <code class="docutils literal notranslate"><span class="pre">voltajes</span> <span class="pre">diferentes</span></code> de entrada.</p>
<p>Este ciclo se repite. Por lo anterior, podemos afirmar que <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span></code> correspondiente se caracteriza como <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>.</p>
</section>
<section id="id39">
<h2><font color="#30143"> Estacionalidad </font><a class="headerlink" href="#id39" title="Link to this heading">#</a></h2>
<p>La línea de tendencia del Experimento 1, revela variaciones periódicas y repetitivas en la serie temporal.</p>
</section>
<section id="id40">
<h2><font color="#30143"> Cambios Cíclicos </font><a class="headerlink" href="#id40" title="Link to this heading">#</a></h2>
<p>El gráfico en la imagen muestra cambios cíclicos en la potencia eléctrica a lo largo del tiempo. El patrón indica aumentos y disminuciones repetidos en la potencia, lo que sugiere un comportamiento periódico o cíclico. Los residuales parecen fluctuar entre valores positivos y negativos, lo cual es típico en datos de series temporales que exhiben tendencias cíclicas.</p>
</section>
<section id="id41">
<h2><font color="#30143"> Estacionaridad </font><a class="headerlink" href="#id41" title="Link to this heading">#</a></h2>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Importante:</strong>
    Una serie de tiempo se considera <strong><em>No estacionaria</em></strong> si la distribución de sus datos (media, varianza, autocorrelación, etc.) <em>no permanece constante a lo largo del tiempo</em>, es decir, si  muestra <em>tendencia, variación en la varianza, autocorrelación significativa</em>. 
</div><p>Otra forma de validar si la serie es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>o <code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">estacionaria</span></code>, es aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p>
<ul class="simple">
<li><p>Planteamiento de Hipótesis:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[ H_0 : \text{La serie de tiempo es no estacionaria.}\]</div>
<div class="math notranslate nohighlight">
\[ H_1 : \text{La serie de tiempo es estacionaria.}\]</div>
<ul class="simple">
<li><p>Críterios de aceptación y/o rechazo:</p></li>
</ul>
<p>Sí el  P-value <span class="math notranslate nohighlight">\(&lt; 0.05 \)</span>, se rechaza la hipótesis nula con un a significancia <span class="math notranslate nohighlight">\( \alpha = 0.05\)</span>, es decir que la serie de tiempo es estacionaria.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result_22</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">el_power</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ADF Statistic: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_22</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-value: </span><span class="si">%f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">result_22</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ADF Statistic: -3.965780
p-value: 0.001601
</pre></div>
</div>
</div>
</div>
<p>De acuerdo al resultado obtenido con la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code> con P-value <span class="math notranslate nohighlight">\(= 0,001061 &lt; 0,05\)</span>, por tanto se rechaza la hipótesis nula con una significancia <span class="math notranslate nohighlight">\(\alpha = 0.05\)</span>, es decir que <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">serie</span> <span class="pre">de</span> <span class="pre">tiempo</span> <span class="pre">es</span> <span class="pre">estacionaria</span></code>.</p>
<p>A continuación gráficamos la <code class="docutils literal notranslate"><span class="pre">Autocorrelación</span></code> y <code class="docutils literal notranslate"><span class="pre">estacionalidad</span></code> de la serie de tiempo asociada con la potencia entregada por una microturbina de gas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">)</span> 
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original Series Experimento 22&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>

<span class="n">figtest0</span><span class="o">=</span><span class="n">plot_acf</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">el_power</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lags</span> <span class="o">=</span> <span class="mi">240</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">vlines_kwargs</span> <span class="o">=</span><span class="p">{</span><span class="s2">&quot;colors&quot;</span><span class="p">:</span><span class="s1">&#39;#30143F&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation Experimento 22&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje x (inferior)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Solo para el eje y (izquierdo)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d4e5dd9e4e9fc1dc53ebb45bb251c4077313a28116c92f7c77fbc3c8c6bff5c8.png" src="_images/d4e5dd9e4e9fc1dc53ebb45bb251c4077313a28116c92f7c77fbc3c8c6bff5c8.png" />
</div>
</div>
<ul class="simple">
<li><p>Gráfico Original Series: El gráfico representa la potencia eléctrica generada por una microturbina de gas a lo largo del tiempo. Se observa un incremento significativo, seguido de un periodo de estabilidad, que luego da paso a una notable disminución, manteniéndose estable nuevamente por un tiempo.</p></li>
</ul>
<ul class="simple">
<li><p>Gráfico Autocorrelation Original Series: Como se puede observar en gráfico ACF, la autocorrelación de la serie con sus rezagos decae lentamente en el tiempo de forma lineal; ésto es coherente con el resultado obtenido luego de aplicar la prueba de <code class="docutils literal notranslate"><span class="pre">Dickey-Fuller</span></code>.</p></li>
</ul>
</section>
<section id="id42">
<h2><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font><a class="headerlink" href="#id42" title="Link to this heading">#</a></h2>
<p>A continuación usaremos la librería  <code class="docutils literal notranslate"><span class="pre">statsmodels.tsa</span></code> para estimar tendencias, ciclos y estacionalidad, luego aplicaremos la prueba ADF para verificar la estacionariedad de los datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adf_result_22</span> <span class="o">=</span> <span class="n">stattools</span><span class="o">.</span><span class="n">adfuller</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">autolag</span><span class="o">=</span><span class="s1">&#39;AIC&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica:&#39;</span><span class="p">,</span> <span class="n">adf_result_22</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>p-valor de la prueba ADF sobre variaciones irregulares en los datos de potencia eléctrica: 0.0016006850110313014
</pre></div>
</div>
</div>
</div>
<p>Un P-Value de <span class="math notranslate nohighlight">\(0.001606\)</span> para la <code class="docutils literal notranslate"><span class="pre">prueba</span> <span class="pre">ADF</span></code> indica que la serie temporal original es <code class="docutils literal notranslate"><span class="pre">estacionaria</span></code>. Por lo tanto, intentemos primero el modelo multiplicativo para la descomposición.</p>
<p>Usaremos la descomposición de serie temporal <code class="docutils literal notranslate"><span class="pre">aditiva</span></code>, esta descomposición se usa cuando la magnitud del componente estacional se mantiene ligeramente constante a pesar de la tendencia. Matématicamente se expresa como $<span class="math notranslate nohighlight">\(y(t) = S(t) + T(t) + R(t)\)</span>$
Para realizar esta descomposicón usamos la librería <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> a tráves de función <code class="docutils literal notranslate"><span class="pre">seasonal_descompose</span></code> especificando que haremos la descomposición con un modelo aditivo (<code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">'additive'</span></code>) y un periodo de 500 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_test_ex_22</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>time</th>
      <th>input_voltage</th>
      <th>el_power</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1970-01-01 00:14:40.300</td>
      <td>3.0</td>
      <td>1193.1407</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1970-01-01 00:14:41.300</td>
      <td>3.0</td>
      <td>1107.0664</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1970-01-01 00:14:42.300</td>
      <td>3.0</td>
      <td>1180.4068</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970-01-01 00:14:43.300</td>
      <td>3.0</td>
      <td>1095.5515</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1970-01-01 00:14:44.300</td>
      <td>3.0</td>
      <td>1177.0737</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>8485</th>
      <td>1970-01-01 02:53:43.460</td>
      <td>3.0</td>
      <td>1048.5183</td>
    </tr>
    <tr>
      <th>8486</th>
      <td>1970-01-01 02:53:44.500</td>
      <td>3.0</td>
      <td>1131.0681</td>
    </tr>
    <tr>
      <th>8487</th>
      <td>1970-01-01 02:53:45.540</td>
      <td>3.0</td>
      <td>1044.6633</td>
    </tr>
    <tr>
      <th>8488</th>
      <td>1970-01-01 02:53:46.580</td>
      <td>3.0</td>
      <td>1129.4081</td>
    </tr>
    <tr>
      <th>8489</th>
      <td>1970-01-01 02:53:47.580</td>
      <td>3.0</td>
      <td>1037.6970</td>
    </tr>
  </tbody>
</table>
<p>8490 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>time             0
input_voltage    0
el_power         0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>


<span class="n">df_ex_22_seg</span><span class="o">=</span> <span class="n">df_test_ex_22</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>


<span class="n">periodo</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># Cambia esto según la estacionalidad esperada</span>

<span class="c1"># Realizar la descomposición estacional</span>
<span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">df_ex_21_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;multiplicative&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">periodo</span><span class="p">)</span>

<span class="c1"># Graficar los componentes</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">411</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_ex_22_seg</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Observado Experimento 22&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">412</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Tendencia Experimento 22&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">413</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Estacionalidad Experimento 22&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">414</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residual&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Residual Experimento 22&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/69b0ce74bd02428058191b9186261607c1763e30838df9d2d8f81a8bb25e4f6a.png" src="_images/69b0ce74bd02428058191b9186261607c1763e30838df9d2d8f81a8bb25e4f6a.png" />
</div>
</div>
<p>A través del gráfico se observa la <code class="docutils literal notranslate"><span class="pre">serie</span> <span class="pre">temporal</span> <span class="pre">original</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">tendencia</span></code>, la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> y la <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">error</span></code>. Observamos que la serie presenta una <code class="docutils literal notranslate"><span class="pre">tendencia</span></code> marcada por cambios sistemáticos en el proceso (cambios en el voltaje de entrada) y, a su vez, un <code class="docutils literal notranslate"><span class="pre">componente</span> <span class="pre">de</span> <span class="pre">estacionalidad</span></code> donde la serie muestra variaciones repetitivas y periódicas (aproximadamente cada 500 segundos). En cuanto al <code class="docutils literal notranslate"><span class="pre">error</span></code>, se observa que la variación en el voltaje de entrada introduce una mayor varianza, lo que genera una relación sistemática en el tiempo. Dicho esto, se deben evaluar los supuestos de independencia en los residuos una vez se entrene el modelo para garantizar que no exista dependencia entre ellos.</p>
</section>
<section id="resumen-grafico-series-temporales">
<h2><font color="#30143"> Resumen Gráfico Series Temporales </font><a class="headerlink" href="#resumen-grafico-series-temporales" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Supongamos que tus DataFrames están en una lista</span>
<span class="n">dataframes</span> <span class="o">=</span> <span class="p">[</span><span class="n">df_train_ex_1</span><span class="p">,</span> <span class="n">df_train_ex_9</span><span class="p">,</span> <span class="n">df_train_ex_20</span><span class="p">,</span> <span class="n">df_train_ex_21</span><span class="p">,</span> <span class="n">df_train_ex_23</span><span class="p">,</span> <span class="n">df_train_ex_24</span><span class="p">,</span> <span class="n">df_test_ex_4</span><span class="p">,</span> <span class="n">df_test_ex_22</span><span class="p">]</span>
<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Experimento 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 9&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 20&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 21&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 23&#39;</span><span class="p">,</span> 
          <span class="s1">&#39;Experimento 24&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 4&#39;</span><span class="p">,</span> <span class="s1">&#39;Experimento 22&#39;</span><span class="p">]</span>

<span class="c1"># Crear una figura con subgráficas de 4 columnas y 2 filas</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Aplanar el array de ejes para facilitar el acceso</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="c1"># Graficar cada DataFrame</span>
<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">dataframes</span><span class="p">,</span> <span class="n">titles</span><span class="p">):</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;el_power&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#30143F&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Serie de Tiempo </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>

<span class="c1"># Ajustar el diseño</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/01bbd2df49da8d49817d877cbe3810ec6af24ea1b19aba4d1215d27bf199e5b3.png" src="_images/01bbd2df49da8d49817d877cbe3810ec6af24ea1b19aba4d1215d27bf199e5b3.png" />
</div>
</div>
<p>Con base en lo anterior, procederemos a construir los modelos según lo establecido en la descripción de la actividad, evaluándolos en dos grupos según su tendencia. Para los <code class="docutils literal notranslate"><span class="pre">experimentos</span></code> <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">9</span></code> y <code class="docutils literal notranslate"><span class="pre">20</span></code>, evaluaremos el <code class="docutils literal notranslate"><span class="pre">rendimiento</span></code> de los modelos utilizando los datos de prueba del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">4</span></code>. En el caso de las series de los <code class="docutils literal notranslate"><span class="pre">experimentos</span></code> <code class="docutils literal notranslate"><span class="pre">21</span></code>, <code class="docutils literal notranslate"><span class="pre">23</span></code> y <code class="docutils literal notranslate"><span class="pre">24</span></code>, realizaremos la evaluación del rendimiento con los datos de prueba del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">22</span></code>. Al final, seleccionaremos el modelo que mejor generalice.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="construccion-de-modelos">
<h1><font color="#30143"> Construcción de Modelos </font><a class="headerlink" href="#construccion-de-modelos" title="Link to this heading">#</a></h1>
<hr class="docutils" />
<section id="suavizacion-exponencial-de-primer-orden">
<h2><font color="#30143"> Suavización exponencial de primer orden </font><a class="headerlink" href="#suavizacion-exponencial-de-primer-orden" title="Link to this heading">#</a></h2>
<p>A continuación se define función <code class="docutils literal notranslate"><span class="pre">suavizacion_exponencial_primer_orden()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">columna_y</span><span class="p">,</span> <span class="n">columna_t</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">):</span>
    <span class="c1"># Ordenar el DataFrame por la columna de tiempo</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">columna_t</span><span class="p">)</span>
    
    <span class="c1"># Inicializar la serie de valores suavizados</span>
    <span class="n">y_suavizado</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    
    <span class="c1"># El primer valor suavizado es igual al primer valor original</span>
    <span class="n">y_suavizado</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">columna_y</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="c1"># Calcular los valores suavizados</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
        <span class="n">y_suavizado</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lambda_valor</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="n">columna_y</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">lambda_valor</span><span class="p">)</span> <span class="o">*</span> <span class="n">y_suavizado</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">y_suavizado</span>
</pre></div>
</div>
</div>
</div>
<p>A continuación se define función <code class="docutils literal notranslate"><span class="pre">measacc_fs()</span></code> para estimación de métricas de desempeño</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>

<span class="k">def</span> <span class="nf">measacc_fs</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">out</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">):</span>
    <span class="n">T</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">yh</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]]),</span> <span class="n">out</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
    <span class="n">prederr</span> <span class="o">=</span> <span class="n">yh</span> <span class="o">-</span> <span class="n">out</span>
    <span class="n">TSS</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">((</span><span class="n">yh</span> <span class="o">-</span> <span class="n">out</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">SSE</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">prederr</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">r2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">r2_score</span><span class="p">(</span><span class="n">yh</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">MAPE</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">prederr</span> <span class="o">/</span> <span class="n">yh</span><span class="p">))</span> <span class="o">/</span> <span class="n">T</span>
    <span class="n">MAD</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">prederr</span><span class="p">))</span> <span class="o">/</span> <span class="n">T</span>
    <span class="n">MSD</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">prederr</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n">T</span>
    <span class="n">ret1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s2">&quot;SSE&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">SSE</span><span class="p">],</span>
        <span class="s2">&quot;MAPE&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">MAPE</span><span class="p">],</span>
        <span class="s2">&quot;MAD&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">MAD</span><span class="p">],</span>
        <span class="s2">&quot;MSD&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">MSD</span><span class="p">],</span>
        <span class="s2">&quot;R2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">r2</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">]</span>
    <span class="p">})</span>
    <span class="n">ret1</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret1</span>
</pre></div>
</div>
</div>
</div>
<p>A continuación, se define función <code class="docutils literal notranslate"><span class="pre">plot_suavizado()</span></code>para gráficar suavización de primer y segundo orden con respecto a los valores originales de la serie de tiempo y visualización de métricas de desempeño.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_suavizado</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y_suavizada_primer</span><span class="p">,</span><span class="n">y_suavizada_segundo</span><span class="p">,</span><span class="n">y_val</span><span class="p">,</span><span class="n">y_val_s1</span><span class="p">,</span><span class="n">y_val_s2</span><span class="p">,</span><span class="n">y_test</span><span class="p">,</span><span class="n">y_test_s1</span><span class="p">,</span><span class="n">y_test_s2</span><span class="p">,</span> <span class="n">metricas_primer</span><span class="p">,</span> <span class="n">metricas_segundo</span><span class="p">,</span> <span class="n">titulo</span><span class="p">):</span> 
    <span class="c1"># Crear una figura con subgráficas de 4 columnas y 2 filas</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;el_power&#39;</span><span class="p">)</span> <span class="c1">#El_power es mi y_original </span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_suavizada_primer</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span> <span class="c1">#el_power_suavizado es mi y_hat o valor predicho para suavizado de 1er orden</span>
    
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span> <span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;El_power_validacion&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_val_s1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span>

    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span> <span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;El_power_test&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test_s1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span>
    
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">titulo</span><span class="o">+</span> <span class="s2">&quot; 1er Orden&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;el_power&#39;</span><span class="p">)</span> <span class="c1">#El_power es mi y_original </span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_suavizada_segundo</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span> <span class="c1">#el_power_suavizado es mi y_hat o valor predicho para suavizado de 1er orden</span>
    
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span> <span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;El_power_validacion&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_val_s2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span>

    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span> <span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;El_power_test&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_test_s2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SES $\lambda=0.2$&#39;</span><span class="p">)</span>
    
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo (s)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">titulo</span><span class="o">+</span> <span class="s2">&quot; 2do Orden&quot;</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Métricas suavizado 1er Orden&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">metricas_primer</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Métricas suavizado 2do Orden&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">metricas_segundo</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
</div>
<p>A continuación se dividen los datos en train, val y test.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="c1">#Lista para aplicar modelos</span>
<span class="n">list_dataframes</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Experimento 1&#39;</span><span class="p">,</span><span class="n">df_train_ex_1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Experimento 9&#39;</span><span class="p">,</span><span class="n">df_train_ex_9</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Experimento 20&#39;</span><span class="p">,</span><span class="n">df_train_ex_20</span><span class="p">),</span> 
                 <span class="p">(</span><span class="s1">&#39;Experimento 21&#39;</span><span class="p">,</span><span class="n">df_train_ex_21</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Experimento 23&#39;</span><span class="p">,</span><span class="n">df_train_ex_23</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Experimento 24&#39;</span><span class="p">,</span><span class="n">df_train_ex_24</span><span class="p">)]</span>

<span class="n">tau_val</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">tau_test</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">list_df_train</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">experimento</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_dataframes</span><span class="p">)</span> <span class="p">:</span>
    
    <span class="n">y</span> <span class="o">=</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="n">train</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">val</span>   <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">):</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">test</span>  <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">):]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">list_df_train</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">train</span><span class="p">,</span><span class="n">val</span><span class="p">,</span><span class="n">test</span><span class="p">))</span>
    


<span class="c1">#Ciclo For para suavisado exponencial de 1er orden y plot </span>
<span class="n">lambda_valor</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># Puedes ajustar este valor entre 0.1 y 0.4</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">experimento</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_train</span><span class="p">)</span> <span class="p">:</span>

    <span class="c1">#Calculo de suavizado de primer orden </span>
    <span class="n">df_suavizado_primer</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;el_power&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>     
    <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_primer</span>
    
    <span class="c1">#Calculo de suavidado de segundo orden </span>
    <span class="n">df_suavizado_segundo</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>
    <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_segundo</span>

    <span class="c1">#Calculo de suavizado de primer orden </span>
    <span class="n">df_suavizado_primer</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;el_power&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>     
    <span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_primer</span>
    
    <span class="c1">#Calculo de suavidado de segundo orden </span>
    <span class="n">df_suavizado_segundo</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>
    <span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_segundo</span>

    <span class="c1">#Calculo de suavizado de primer orden </span>
    <span class="n">df_suavizado_primer</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;el_power&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>     
    <span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_primer</span>
    
    <span class="c1">#Calculo de suavidado de segundo orden </span>
    <span class="n">df_suavizado_segundo</span> <span class="o">=</span> <span class="n">suavizacion_exponencial_primer_orden</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">lambda_valor</span><span class="p">)</span>
    <span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_suavizado_segundo</span>

    <span class="c1">#Calculo de metricas de primer orden </span>
    <span class="n">metricas_primer</span> <span class="o">=</span> <span class="n">measacc_fs</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">],</span><span class="n">lambda_valor</span><span class="p">)</span>

    <span class="c1">#Calculo de métricas de segundo orden </span>
    <span class="n">metricas_segundo</span> <span class="o">=</span> <span class="n">measacc_fs</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">],</span><span class="n">lambda_valor</span><span class="p">)</span>
    
    <span class="n">list_df_train</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>    

    <span class="c1">#Imprimir métricas y gráficas de suavisado de 1er orden </span>
    <span class="n">plot_suavizado</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">],</span>
                   <span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">],</span>
                   <span class="n">metricas_primer</span><span class="p">,</span><span class="n">metricas_segundo</span><span class="p">,</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b5413640513cbe2b0ad3306dbf476608bd555eac6f67079e1955d31043117ffe.png" src="_images/b5413640513cbe2b0ad3306dbf476608bd555eac6f67079e1955d31043117ffe.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE   MAPE      MAD       MSD      R2
0  2.2068e+06  0.695  14.2881  278.6397  99.97%
Métricas suavizado 2do Orden
          SSE    MAPE      MAD       MSD      R2
0  4.2510e+06  0.8532  17.3751  536.7413  99.94%
</pre></div>
</div>
<img alt="_images/229a4a8bf4727c67fb33ad2864fef43c373714e5224feeaf45e37500baa73cc1.png" src="_images/229a4a8bf4727c67fb33ad2864fef43c373714e5224feeaf45e37500baa73cc1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE    MAPE      MAD        MSD      R2
0  4.1737e+07  3.8553  63.9154  4250.6228  96.48%
Métricas suavizado 2do Orden
          SSE    MAPE      MAD        MSD      R2
0  3.5195e+07  3.5144  58.2846  3584.4222  97.04%
</pre></div>
</div>
<img alt="_images/9926a7d58aefbfbe5afb1b50563e6b4634dddf55d8ea59db750c54bb39940e43.png" src="_images/9926a7d58aefbfbe5afb1b50563e6b4634dddf55d8ea59db750c54bb39940e43.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE    MAPE      MAD        MSD      R2
0  1.1557e+07  3.5483  49.1851  2571.0169  98.76%
Métricas suavizado 2do Orden
          SSE    MAPE     MAD        MSD      R2
0  1.0910e+07  3.3066  46.108  2427.1517  98.83%
</pre></div>
</div>
<img alt="_images/aed3761bddef54179b4f678bd8dafa5f9a3531e5154cd8936dbb8db3f74deb79.png" src="_images/aed3761bddef54179b4f678bd8dafa5f9a3531e5154cd8936dbb8db3f74deb79.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE    MAPE      MAD        MSD      R2
0  1.1205e+07  3.6413  48.4834  2492.7644  98.74%
Métricas suavizado 2do Orden
          SSE    MAPE      MAD        MSD      R2
0  1.0485e+07  3.3807  45.2889  2332.6409  98.82%
</pre></div>
</div>
<img alt="_images/04b9183dfb20b40a92063c71b62531f92c2905666de2be6e22b6d68ccec71d26.png" src="_images/04b9183dfb20b40a92063c71b62531f92c2905666de2be6e22b6d68ccec71d26.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE    MAPE      MAD        MSD      R2
0  1.9094e+07  2.9727  49.6926  2656.3971  99.43%
Métricas suavizado 2do Orden
          SSE    MAPE      MAD        MSD      R2
0  1.8518e+07  2.7627  46.4588  2576.2547  99.45%
</pre></div>
</div>
<img alt="_images/78a80761567db9634ef356b1fc37c5b5491d0f86f0044ddd1e168930e8f574f2.png" src="_images/78a80761567db9634ef356b1fc37c5b5491d0f86f0044ddd1e168930e8f574f2.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 1er Orden
          SSE    MAPE      MAD        MSD      R2
0  1.7824e+07  3.0177  49.6209  2537.9633  99.49%
Métricas suavizado 2do Orden
          SSE    MAPE      MAD        MSD      R2
0  1.5540e+07  2.7483  45.2102  2212.7421  99.56%
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Análisis de métricas de desempeño:</strong>
    A continuación se presenta una breve descripción de los resultados obtenidos al estimar las <strong><em>métricas de medición</em></strong> de las $\tilde{y}_T$ vs las $y_T$ por cada una de <em>las series temporales</em> correspondientes a cada uno de los experimentos. 
<ul class="simple">
<li><p>Series Temporales de forma Rectangular:</p>
<ul>
<li><p><strong>Experimento 1</strong>: En general, el modelo de suavizado de primer orden supera al de segundo orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el primer modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
<li><p><strong>Experimento 9</strong>: En general, el modelo de suavizado de segundo orden supera al de primer orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el segundo modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
<li><p><strong>Experimento 20</strong>:En general, el modelo de suavizado de segundo orden supera al de primer orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el segundo modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
</ul>
</li>
<li><p>Series Temporales de forma sinusoidal:</p>
<ul>
<li><p><strong>Experimento 21</strong>: En general, el modelo de suavizado de segundo orden supera al de primer orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el segundo modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
<li><p><strong>Experimento 23</strong>: En general, el modelo de suavizado de segundo orden supera al de primer orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el segundo modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
<li><p><strong>Experimento 24</strong>:En general, el modelo de suavizado de segundo orden supera al de primer orden en todas las métricas analizadas. Esto sugiere que, para la potencia eléctrica, el segundo modelo proporciona un ajuste más preciso y generaliza mejor.</p></li>
</ul>
</li>
</ul>
</div></section>
<section id="suavizacion-exponencial-de-segundo-orden-con-actualizacion-del-factor-de-descuento">
<h2><font color="#30143"> Suavización exponencial de segundo orden con actualización del factor de descuento </font><a class="headerlink" href="#suavizacion-exponencial-de-segundo-orden-con-actualizacion-del-factor-de-descuento" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">lambda_factor_descuento</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">delta_</span><span class="p">,</span> <span class="n">y_tilde_start</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lambda_start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">T</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    
    <span class="n">Qt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    <span class="n">Dt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    <span class="n">y_tilde</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    <span class="n">lambd</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    
    <span class="n">lambd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">lambda_start</span>
    <span class="k">if</span> <span class="n">y_tilde_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">y_tilde</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">y_tilde</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_tilde_start</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
        <span class="n">err</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">y_tilde</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">Qt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">delta_</span> <span class="o">*</span> <span class="n">err</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">delta_</span><span class="p">)</span> <span class="o">*</span> <span class="n">Qt</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">Dt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">delta_</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">err</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">delta_</span><span class="p">)</span> <span class="o">*</span> <span class="n">Dt</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">lambd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Qt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">Dt</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">y_tilde</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lambd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">lambd</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="n">y_tilde</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c1">#return np.column_stack((y_tilde, lambd, err, Qt, Dt))</span>
    <span class="k">return</span> <span class="n">y_tilde</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="c1">#Lista para aplicar modelos</span>

<span class="c1">#Ciclo For para suavisado exponencial de 1er orden y plot </span>
<span class="n">lambda_valor</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># Puedes ajustar este valor entre 0.1 y 0.4</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">experimento</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_train</span><span class="p">)</span> <span class="p">:</span> 

    <span class="n">df_actualizado_2do</span> <span class="o">=</span> <span class="n">lambda_factor_descuento</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do&#39;</span><span class="p">],</span> <span class="mf">0.3</span><span class="p">)</span>

    <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do_act_fd&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_actualizado_2do</span>
    
    <span class="c1">#Calculo de metricas de segundo orden</span>
    <span class="n">metricas_act_fd</span> <span class="o">=</span> <span class="n">measacc_fs</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado2do_act_fd&#39;</span><span class="p">],</span><span class="n">lambda_valor</span><span class="p">)</span>
  
    <span class="n">list_df_train</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">experimento</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>    
    <span class="n">last_fc</span> <span class="o">=</span> <span class="mi">9920</span> 

    
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:],</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">][</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Potencia Eléctrica&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:],</span> <span class="n">df_actualizado_2do</span><span class="p">[</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:,</span> <span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SE 2do Act Factor de Des&#39;</span><span class="p">,</span><span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:],</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;el_power_suavizado&#39;</span><span class="p">][</span><span class="o">-</span><span class="n">last_fc</span><span class="p">:],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Suavizado Exponencial 2do Orden&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tiempo&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Potencia (W)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Métricas suavizado 2do Orden con Actualización de Factor de Descuento&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">metricas_act_fd</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c7fd03b8cc8dfa23b58fe80f3414d142925341ee1ec971cba4006c1e262ccd3e.png" src="_images/c7fd03b8cc8dfa23b58fe80f3414d142925341ee1ec971cba4006c1e262ccd3e.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE    MAPE     MAD       MSD      R2
0  4.2443e+06  0.8507  17.326  535.9004  99.94%
</pre></div>
</div>
<img alt="_images/6cbf8df32e1942df9041940bcbc97478e908add86e77edae2575d3caa619297b.png" src="_images/6cbf8df32e1942df9041940bcbc97478e908add86e77edae2575d3caa619297b.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE   MAPE      MAD        MSD      R2
0  3.4734e+07  3.489  57.8647  3537.3968  97.07%
</pre></div>
</div>
<img alt="_images/265ff5316a56040e34e098c7d5e6a0f6dd1262d258b0556b5b72a22b1867a36b.png" src="_images/265ff5316a56040e34e098c7d5e6a0f6dd1262d258b0556b5b72a22b1867a36b.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE    MAPE     MAD        MSD      R2
0  1.0818e+07  3.2883  45.861  2406.6191  98.84%
</pre></div>
</div>
<img alt="_images/9d1931aee06ebd92783f712a61e5f2c7b45154269da34b4227e3bb21a5b52c73.png" src="_images/9d1931aee06ebd92783f712a61e5f2c7b45154269da34b4227e3bb21a5b52c73.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE    MAPE      MAD        MSD      R2
0  1.0401e+07  3.3627  45.0547  2313.8628  98.83%
</pre></div>
</div>
<img alt="_images/52ec26a4d831b68fcb5076d810e8cac2e95eed952e1f1ce31eb05fe453323b0c.png" src="_images/52ec26a4d831b68fcb5076d810e8cac2e95eed952e1f1ce31eb05fe453323b0c.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE   MAPE      MAD        MSD      R2
0  1.8441e+07  2.753  46.3253  2565.4947  99.45%
</pre></div>
</div>
<img alt="_images/0f5e921a244ab9b3dab40fd56e6661660afa310909f6b26f96e8eac58eb9da01.png" src="_images/0f5e921a244ab9b3dab40fd56e6661660afa310909f6b26f96e8eac58eb9da01.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Métricas suavizado 2do Orden con Actualización de Factor de Descuento
          SSE    MAPE      MAD        MSD      R2
0  1.5453e+07  2.7374  45.0574  2200.2719  99.56%
</pre></div>
</div>
</div>
</div>
<div class="alert alert-block" style="background-color: #e1d9e3; color: #30143; padding: 10px; border-radius: 10px;">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    <strong>Análisis de métricas de desempeño:</strong>
El modelo de suavizado de segundo orden con componentes <em>sinusoidales</em>, especialmente el <em>Experimento 24</em>, es el mejor en este análisis. Esto se debe a sus métricas superiores en comparación con los modelos de componentes rectangulares, que muestran un desempeño variable y, en general, peor.
<ul class="simple">
<li><p><strong>SSE</strong> y <strong>MAPE</strong>: Menores en los modelos sinusoidales, lo que indica un mejor ajuste y precisión.</p></li>
<li><p><strong> MAD</strong> y <strong>MSD</strong>: Los valores más bajos en los sinusoidales reflejan menos error absoluto y cuadrático.</p></li>
<li><p><strong>R²</strong>: Todos los modelos sinusoidales mantienen un R² alto, indicando que explican bien la variabilidad de los datos.</p></li>
</ul>
<p>En resumen, para predecir la potencia eléctrica del motor, se recomienda utilizar el modelo de suavizado de segundo orden con componentes sinusoidales, particularmente el <em>Experimento 24</em>, ya que demuestra un rendimiento más confiable y consistente.</p>
</div></section>
<section id="suavizacion-exponencial-holt-winters">
<h2><font color="#30143"> Suavización exponencial Holt-Winters </font><a class="headerlink" href="#suavizacion-exponencial-holt-winters" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_error</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">statsmodels.tools.sm_exceptions</span> <span class="kn">import</span> <span class="n">ConvergenceWarning</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="n">ConvergenceWarning</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.holtwinters</span> <span class="kn">import</span> <span class="n">ExponentialSmoothing</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.holtwinters</span> <span class="kn">import</span> <span class="n">SimpleExpSmoothing</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">import</span> <span class="nn">statsmodels.tsa.api</span> <span class="k">as</span> <span class="nn">smt</span>
</pre></div>
</div>
</div>
</div>
<p>La siguiente función nos permitirá graficar los conjuntos de entrenamiento, prueba y las respectivas predicciones del conjunto de prueba. Además, mostraremos en el título de estas figuras la métrica MAE.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_model</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
   
    
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;el_power&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;el_power&#39;</span><span class="p">)</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Test&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;el_power&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s2">&quot;dotted&quot;</span><span class="p">)</span> 
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">experimento</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">, MAE: </span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">mae</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tiempo&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Potencia Eléctrica&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<section id="simple-exponential-smoothing-holt-winters">
<h3><font color="#30143"> Simple Exponential Smoothing (Holt-Winters)</font><a class="headerlink" href="#simple-exponential-smoothing-holt-winters" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ses_optimizer</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">alphas</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
    <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="n">alphas</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ses_model</span> <span class="o">=</span> <span class="n">SimpleExpSmoothing</span><span class="p">(</span><span class="n">train</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">optimized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="n">y_pred</span> <span class="o">=</span> <span class="n">ses_model</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>

            <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">mae</span> <span class="o">&lt;</span> <span class="n">best_mae</span><span class="p">:</span>
                <span class="n">best_mae</span> <span class="o">=</span> <span class="n">mae</span>
                <span class="n">best_alpha</span> <span class="o">=</span> <span class="n">alpha</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error con alpha=</span><span class="si">{</span><span class="n">alpha</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_mae</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ses_model_tuning</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Model Tuning - Single Exponential Smoothing&quot;</span><span class="p">):</span>
    
    <span class="n">alphas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
    <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="n">ses_optimizer</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">alphas</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>
    
    <span class="n">train_val</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">])</span>

    <span class="n">final_model</span> <span class="o">=</span> <span class="n">SimpleExpSmoothing</span><span class="p">(</span><span class="n">train_val</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">best_alpha</span><span class="p">,</span> <span class="n">optimized</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">final_model</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
    <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    
    <span class="n">plot_model</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Dividimos en esta ocasión nuestro dataset en conjunto de entrenamiento y de prueba. En este caso el conjunto de prueba corresponde a los últimos 1000 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="c1">#Lista para aplicar modelos</span>

<span class="c1">#Ciclo For para suavisado exponencial de 1er orden y plot </span>
<span class="n">lambda_valor</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># Puedes ajustar este valor entre 0.1 y 0.4</span>
<span class="n">tau_val</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">tau_test</span> <span class="o">=</span> <span class="mi">500</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">experimento</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_train</span><span class="p">)</span> <span class="p">:</span> 

    <span class="n">y</span> <span class="o">=</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;el_power&#39;</span><span class="p">]]</span>
    
    <span class="n">train</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">val</span>   <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">):</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">test</span>  <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">):]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="c1"># Convierte tu dataframe a una serie de pandas. </span>
    <span class="n">train</span> <span class="o">=</span> <span class="n">train</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">train</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">val</span>
    <span class="n">test</span> <span class="o">=</span> <span class="n">test</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">test</span>
    
    <span class="c1">#Suavizado exponencial simple </span>
    <span class="n">ses_model_tuning</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">step</span> <span class="o">=</span> <span class="n">tau_test</span> <span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Model Tuning - Suavisado Exponencial Simple&quot;</span><span class="p">)</span>
    
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0955e22d92f846c8ba731d36ac218766b18be2cf84cf08009d6771483baf5a8a.png" src="_images/0955e22d92f846c8ba731d36ac218766b18be2cf84cf08009d6771483baf5a8a.png" />
<img alt="_images/eeba9143e618fec1fd99b657dce6e1dcd27ebaf2c850ef97c5e0a37581bfe7e7.png" src="_images/eeba9143e618fec1fd99b657dce6e1dcd27ebaf2c850ef97c5e0a37581bfe7e7.png" />
<img alt="_images/4c1b6485b624f880dd19a0dd1844e13a788330a716c1262db0b2bbd1c350b62a.png" src="_images/4c1b6485b624f880dd19a0dd1844e13a788330a716c1262db0b2bbd1c350b62a.png" />
<img alt="_images/456b086cb21cd673dd54bfbe21e3cf09a3ebda092b259a28285a0981c0ac288b.png" src="_images/456b086cb21cd673dd54bfbe21e3cf09a3ebda092b259a28285a0981c0ac288b.png" />
<img alt="_images/afb70c20da5ea252e5441983b81eada85d5eecc331962ba8d079567ce4c23420.png" src="_images/afb70c20da5ea252e5441983b81eada85d5eecc331962ba8d079567ce4c23420.png" />
<img alt="_images/20fbb17caf946279daf0e38cc5b2e2f4f934139f9f10adfb50ecd5afd807dff3.png" src="_images/20fbb17caf946279daf0e38cc5b2e2f4f934139f9f10adfb50ecd5afd807dff3.png" />
</div>
</div>
<p>El <code class="docutils literal notranslate"><span class="pre">MAE</span> <span class="pre">(Mean</span> <span class="pre">Absolute</span> <span class="pre">Error)</span></code> es una métrica utilizada para evaluar la <code class="docutils literal notranslate"><span class="pre">precisión</span></code> de un modelo de pronóstico o regresión. Se calcula como el promedio de los errores absolutos entre los valores reales y los valores pronosticados. Es una forma de medir cuánto difieren, en promedio, las predicciones del modelo de los valores reales. Es decir que en promedio existe una dieferencia de:</p>
<ul class="simple">
<li><p><strong>Experimento 1</strong>: <span class="math notranslate nohighlight">\(15.09W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 9</strong>: <span class="math notranslate nohighlight">\(64.27W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 20</strong>: <span class="math notranslate nohighlight">\(279.2W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 21</strong>: <span class="math notranslate nohighlight">\(357.4W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 23</strong>: <span class="math notranslate nohighlight">\(325.8W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 24</strong>: <span class="math notranslate nohighlight">\(503.71W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
</ul>
<p>En relación con la salida de potencia eléctrica, se puede concluir que el modelo del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">1</span></code> es el que presenta la mejor capacidad de generalización. Esto indica que este modelo se adapta de manera más efectiva a los datos, proporcionando pronósticos más precisos y consistentes en comparación con los otros modelos evaluados.</p>
</section>
<section id="double-exponential-smoothing-holt-winters">
<h3><font color="#30143"> Double Exponential Smoothing (Holt-Winters)</font><a class="headerlink" href="#double-exponential-smoothing-holt-winters" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">des_optimizer</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">alphas</span><span class="p">,</span> <span class="n">betas</span><span class="p">,</span> <span class="n">trend</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>

    <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_beta</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;inf&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="n">alphas</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">beta</span> <span class="ow">in</span> <span class="n">betas</span><span class="p">:</span>
            <span class="n">des_model</span> <span class="o">=</span> <span class="n">ExponentialSmoothing</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">smoothing_slope</span><span class="o">=</span><span class="n">beta</span><span class="p">)</span>
            <span class="n">y_pred</span> <span class="o">=</span> <span class="n">des_model</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
            <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">mae</span> <span class="o">&lt;</span> <span class="n">best_mae</span><span class="p">:</span>
                <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_beta</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">mae</span>

    <span class="k">return</span> <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_beta</span><span class="p">,</span> <span class="n">best_mae</span>
</pre></div>
</div>
</div>
</div>
<p>La siguiente función nos permitirá graficar los conjuntos de entrenamiento, prueba y las respectivas predicciones del conjunto de prueba. Además, mostraremos en el título de estas figuras la métrica MAE</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">des_model_tuning</span><span class="p">(</span><span class="n">train</span> <span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">trend</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
    
    <span class="n">alphas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">)</span>
    <span class="n">betas</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">)</span>
    <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_beta</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="n">des_optimizer</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">alphas</span><span class="p">,</span> <span class="n">betas</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>

    <span class="n">train_val</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">])</span>
    <span class="n">final_model</span> <span class="o">=</span> <span class="n">ExponentialSmoothing</span><span class="p">(</span><span class="n">train_val</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">best_alpha</span><span class="p">,</span> <span class="n">smoothing_slope</span><span class="o">=</span><span class="n">best_beta</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">final_model</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
    <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    
    <span class="n">plot_model</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Dividimos en esta ocasión nuestro dataset en conjunto de entrenamiento y de prueba. En este caso el conjunto de prueba corresponde a los últimos 200 segundos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">r2_score</span>
<span class="c1">#Lista para aplicar modelos</span>

<span class="c1">#Ciclo For para suavisado exponencial de 1er orden y plot </span>
<span class="n">lambda_valor</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># Puedes ajustar este valor entre 0.1 y 0.4</span>
<span class="n">tau_val</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">tau_test</span> <span class="o">=</span> <span class="mi">200</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">experimento</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_df_train</span><span class="p">)</span> <span class="p">:</span> 

    <span class="n">y</span> <span class="o">=</span> <span class="n">experimento</span><span class="p">[</span><span class="mi">1</span><span class="p">][[</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;el_power&#39;</span><span class="p">]]</span>
    
    <span class="n">train</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">val</span>   <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_val</span> <span class="o">+</span> <span class="n">tau_test</span><span class="p">):</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">test</span>  <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">tau_test</span><span class="p">):]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="c1"># Convierte tu dataframe a una serie de pandas. </span>
    <span class="n">train</span> <span class="o">=</span> <span class="n">train</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">train</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">val</span>
    <span class="n">test</span> <span class="o">=</span> <span class="n">test</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">test</span>
    
    <span class="c1">#Suavizado exponencial de segundo orden</span>
    <span class="n">des_model_tuning</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">tau_test</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Model Tuning - Suavisado Exponencial de Segundo Orden&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/259e84e001350c20823dc067d36b0eaf4cfd4c5920aa062ab3c336b5b09980ae.png" src="_images/259e84e001350c20823dc067d36b0eaf4cfd4c5920aa062ab3c336b5b09980ae.png" />
<img alt="_images/d465189d67f948eb2796d61ac883cddc46e6dc83a64b3e7d1e44f573bab42d22.png" src="_images/d465189d67f948eb2796d61ac883cddc46e6dc83a64b3e7d1e44f573bab42d22.png" />
<img alt="_images/d4f89aca513adb8a959942a6d2348cc6db5ed07b631e04a4f7805311543969c8.png" src="_images/d4f89aca513adb8a959942a6d2348cc6db5ed07b631e04a4f7805311543969c8.png" />
<img alt="_images/be0e5e110440bb8b1d7de542795017895ff396d62805cd3b6f137f3964e84d96.png" src="_images/be0e5e110440bb8b1d7de542795017895ff396d62805cd3b6f137f3964e84d96.png" />
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">145</span><span class="p">],</span> <span class="n">line</span> <span class="mi">23</span>
<span class="g g-Whitespace">     </span><span class="mi">20</span> <span class="n">test</span> <span class="o">=</span> <span class="n">test</span><span class="p">[</span><span class="s1">&#39;el_power&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="k">else</span> <span class="n">test</span>
<span class="g g-Whitespace">     </span><span class="mi">22</span> <span class="c1">#Suavizado exponencial de segundo orden</span>
<span class="ne">---&gt; </span><span class="mi">23</span> <span class="n">des_model_tuning</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">test</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">tau_test</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Model Tuning - Suavisado Exponencial de Segundo Orden&quot;</span><span class="p">)</span>

<span class="nn">Cell In[144], line 5,</span> in <span class="ni">des_model_tuning</span><span class="nt">(train, val, test, step, trend, title)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">alphas</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">betas</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">best_alpha</span><span class="p">,</span> <span class="n">best_beta</span><span class="p">,</span> <span class="n">best_mae</span> <span class="o">=</span> <span class="n">des_optimizer</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">alphas</span><span class="p">,</span> <span class="n">betas</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">train_val</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">train</span><span class="p">,</span> <span class="n">val</span><span class="p">])</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="n">final_model</span> <span class="o">=</span> <span class="n">ExponentialSmoothing</span><span class="p">(</span><span class="n">train_val</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">best_alpha</span><span class="p">,</span> <span class="n">smoothing_slope</span><span class="o">=</span><span class="n">best_beta</span><span class="p">)</span>

<span class="nn">Cell In[143], line 7,</span> in <span class="ni">des_optimizer</span><span class="nt">(train, val, alphas, betas, trend, step)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="k">for</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="n">alphas</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="k">for</span> <span class="n">beta</span> <span class="ow">in</span> <span class="n">betas</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">7</span>         <span class="n">des_model</span> <span class="o">=</span> <span class="n">ExponentialSmoothing</span><span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="n">trend</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">smoothing_level</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">smoothing_slope</span><span class="o">=</span><span class="n">beta</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>         <span class="n">y_pred</span> <span class="o">=</span> <span class="n">des_model</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">step</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>         <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\pandas\util\_decorators.py:213,</span> in <span class="ni">deprecate_kwarg.&lt;locals&gt;._deprecate_kwarg.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>     <span class="n">kwargs</span><span class="p">[</span><span class="n">new_arg_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_arg_value</span>
<span class="ne">--&gt; </span><span class="mi">213</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\pandas\util\_decorators.py:213,</span> in <span class="ni">deprecate_kwarg.&lt;locals&gt;._deprecate_kwarg.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>     <span class="n">kwargs</span><span class="p">[</span><span class="n">new_arg_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_arg_value</span>
<span class="ne">--&gt; </span><span class="mi">213</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\pandas\util\_decorators.py:213,</span> in <span class="ni">deprecate_kwarg.&lt;locals&gt;._deprecate_kwarg.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>     <span class="n">kwargs</span><span class="p">[</span><span class="n">new_arg_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_arg_value</span>
<span class="ne">--&gt; </span><span class="mi">213</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\statsmodels\tsa\holtwinters\model.py:1164,</span> in <span class="ni">ExponentialSmoothing.fit</span><span class="nt">(self, smoothing_level, smoothing_trend, smoothing_seasonal, damping_trend, optimized, remove_bias, start_params, method, minimize_kwargs, use_brute, use_boxcox, use_basinhopping, initial_level, initial_trend)</span>
<span class="g g-Whitespace">   </span><span class="mi">1161</span>         <span class="n">res</span><span class="o">.</span><span class="n">trend</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;initial_trend&quot;</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">trend</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1162</span>         <span class="n">res</span><span class="o">.</span><span class="n">seasonal</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;initial_seasonal&quot;</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">seasonal</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1164</span> <span class="n">hwfit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predict</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1165</span>     <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1166</span>     <span class="n">smoothing_level</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">alpha</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1167</span>     <span class="n">smoothing_trend</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">beta</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1168</span>     <span class="n">smoothing_seasonal</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">gamma</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1169</span>     <span class="n">damping_trend</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">phi</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1170</span>     <span class="n">initial_level</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">level</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1171</span>     <span class="n">initial_trend</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1172</span>     <span class="n">initial_seasons</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1173</span>     <span class="n">use_boxcox</span><span class="o">=</span><span class="n">use_boxcox</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1174</span>     <span class="n">remove_bias</span><span class="o">=</span><span class="n">remove_bias</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1175</span>     <span class="n">is_optimized</span><span class="o">=</span><span class="n">res</span><span class="o">.</span><span class="n">mask</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1176</span> <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1177</span> <span class="n">hwfit</span><span class="o">.</span><span class="n">_results</span><span class="o">.</span><span class="n">mle_retvals</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">mle_retvals</span>
<span class="g g-Whitespace">   </span><span class="mi">1178</span> <span class="k">return</span> <span class="n">hwfit</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\pandas\util\_decorators.py:213,</span> in <span class="ni">deprecate_kwarg.&lt;locals&gt;._deprecate_kwarg.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>     <span class="n">kwargs</span><span class="p">[</span><span class="n">new_arg_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_arg_value</span>
<span class="ne">--&gt; </span><span class="mi">213</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\pandas\util\_decorators.py:213,</span> in <span class="ni">deprecate_kwarg.&lt;locals&gt;._deprecate_kwarg.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>         <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>     <span class="n">kwargs</span><span class="p">[</span><span class="n">new_arg_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_arg_value</span>
<span class="ne">--&gt; </span><span class="mi">213</span> <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\miniconda3\envs\ml\lib\site-packages\statsmodels\tsa\holtwinters\model.py:1398,</span> in <span class="ni">ExponentialSmoothing._predict</span><span class="nt">(self, h, smoothing_level, smoothing_trend, smoothing_seasonal, initial_level, initial_trend, damping_trend, initial_seasons, use_boxcox, lamda, remove_bias, is_optimized)</span>
<span class="g g-Whitespace">   </span><span class="mi">1394</span>         <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">beta</span> <span class="o">*</span> <span class="n">detrend</span><span class="p">(</span><span class="n">lvls</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">lvls</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="o">+</span> <span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1395</span>             <span class="n">betac</span> <span class="o">*</span> <span class="n">dampen</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="n">phi</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1396</span>         <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1397</span> <span class="n">_trend</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span> <span class="p">:</span> <span class="n">nobs</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="ne">-&gt; </span><span class="mi">1398</span> <span class="n">season</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">m</span> <span class="p">:</span> <span class="n">nobs</span> <span class="o">+</span> <span class="n">m</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">   </span><span class="mi">1399</span> <span class="n">lvls</span><span class="p">[</span><span class="n">nobs</span><span class="p">:]</span> <span class="o">=</span> <span class="n">lvls</span><span class="p">[</span><span class="n">nobs</span><span class="p">]</span>
<span class="g g-Whitespace">   </span><span class="mi">1400</span> <span class="k">if</span> <span class="n">has_trend</span><span class="p">:</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<p>El <code class="docutils literal notranslate"><span class="pre">MAE</span> <span class="pre">(Mean</span> <span class="pre">Absolute</span> <span class="pre">Error)</span></code> es una métrica utilizada para evaluar la <code class="docutils literal notranslate"><span class="pre">precisión</span></code> de un modelo de pronóstico o regresión. Se calcula como el promedio de los errores absolutos entre los valores reales y los valores pronosticados. Es una forma de medir cuánto difieren, en promedio, las predicciones del modelo de los valores reales. Es decir que en promedio existe una dieferencia de:</p>
<ul class="simple">
<li><p><strong>Experimento 1</strong>: <span class="math notranslate nohighlight">\(671.03W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 9</strong>: <span class="math notranslate nohighlight">\(63.74W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 20</strong>: <span class="math notranslate nohighlight">\(141.36W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 21</strong>: <span class="math notranslate nohighlight">\(45.76W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 23</strong>: <span class="math notranslate nohighlight">\(592.3W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
<li><p><strong>Experimento 24</strong>: <span class="math notranslate nohighlight">\(101.4 W\)</span> de potencia eléctrica de la microturbina de gas.</p></li>
</ul>
<p>En relación con la salida de potencia eléctrica, se puede concluir que el modelo del <code class="docutils literal notranslate"><span class="pre">experimento</span> <span class="pre">21</span></code> es el que presenta la mejor capacidad de generalización. Esto indica que este modelo se adapta de manera más efectiva a los datos, proporcionando pronósticos más precisos y consistentes en comparación con los otros modelos evaluados.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Predicción de Energía Eléctrica de Microturbinas de Gas</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><font color="#30143">Suavización Exponecial</font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importar-librerias"><font color="#30143">Importar Librerías</font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio-de-datos"><font color="#30143">Análisis Exploratorio de Datos</font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cargar-el-dataset"><font color="#30143"> Cargar el dataset</font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-1"><font color="#30143"> EDA Experimento 1</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#definicion-de-variables"><font color="#30143"> Definición de Variables</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#estructuras-internas-de-las-series-temporales"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tendencia-general"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estacionalidad"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cambios-ciclicos"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#estacionaridad"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#descomposicion-de-la-serie-temporal-mediante-seasonal-descompose"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-9"><font color="#30143"> EDA Experimento 9</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id5"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id6"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-20"><font color="#30143"> EDA Experimento 20</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id8"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id9"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id10"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id11"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id12"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-21"><font color="#30143"> EDA Experimento 21</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id13"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id14"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id15"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id16"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id17"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id18"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-23"><font color="#30143"> EDA Experimento 23</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id19"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id20"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id21"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id22"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id23"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id24"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-24"><font color="#30143"> EDA Experimento 24</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id25"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id26"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id27"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id28"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id29"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id30"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-4"><font color="#30143"> EDA Experimento 4</font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id31"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id32"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id33"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id34"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id35"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id36"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eda-experimento-22"><font color="#30143"> EDA Experimento 22</font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id37"><font color="#30143"> Estructuras internas de las series temporales </font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id38"><font color="#30143"> Tendencia general </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id39"><font color="#30143"> Estacionalidad </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id40"><font color="#30143"> Cambios Cíclicos </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id41"><font color="#30143"> Estacionaridad </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id42"><font color="#30143"> Descomposición de la serie temporal mediante <code class="docutils literal notranslate"><span class="pre">seasonal_descompose()</span></code> </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resumen-grafico-series-temporales"><font color="#30143"> Resumen Gráfico Series Temporales </font></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#construccion-de-modelos"><font color="#30143"> Construcción de Modelos </font></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-primer-orden"><font color="#30143"> Suavización exponencial de primer orden </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-de-segundo-orden-con-actualizacion-del-factor-de-descuento"><font color="#30143"> Suavización exponencial de segundo orden con actualización del factor de descuento </font></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#suavizacion-exponencial-holt-winters"><font color="#30143"> Suavización exponencial Holt-Winters </font></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simple-exponential-smoothing-holt-winters"><font color="#30143"> Simple Exponential Smoothing (Holt-Winters)</font></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#double-exponential-smoothing-holt-winters"><font color="#30143"> Double Exponential Smoothing (Holt-Winters)</font></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tajan Katherine
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>